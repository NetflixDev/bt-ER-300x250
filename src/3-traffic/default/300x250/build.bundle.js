!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){t.exports=adLoad},,,function(module,exports,__webpack_require__){"use strict";(function(setImmediate,global){function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function createEvent(t,e,i,n,o,r,s,a,l,c,u){var d=new CustomEvent(t);return d.mouse={global:{x:e,y:i},local:{x:n,y:o}},d.element={x:r||0,y:s||0},d.distance={x:a||0,y:l||0},d.velocity={x:c||0,y:u||0},d.direction={x:c>0?"right":c<0?"left":null,y:u>0?"down":u<0?"up":null},d}function stopBubble(t){t&&(t.stopImmediatePropagation(),_kills[t.type]=!0)}function isStopped(t){return void 0!=_kills[t]}function startPoint(){_eventLooping||(_eventLooping=!0,_kills={})}function endPoint(){_eventLooping=!1}function get(t){if(_dict[t])return _dict[t];throw new Error("ImageManager : No image named '"+t+"' has been loaded")}function available(t,e){var i=void 0!=_dict[t];return i}function load(t,e){if(_onFail=e||global.failAd,_isLoading)_nextLoadCallback.push(t);else{_imageManagerLoader=new _adLoad2.default({name:"imageManagerLoader",onComplete:function(t){_isLoading=!1,_addToDictionary(t.getAllContentRaw())},onFail:function(t){_isLoading=!1,_onFail.call()}}),_onComplete=[].concat(t),_nextLoadCallback=[];var i=_pendingImages.slice();_pendingImages=[],_imageManagerLoader.add(new _adLoad2.default(i,{name:"dynamicImages-"+_loaderCount++,fileType:"jpg"}));var n=_pendingCanvasImages.slice();_pendingCanvasImages=[],_imageManagerLoader.add(new _adLoad2.default(n,{name:"dynamicCanvasImages-"+_loaderCount++,fileType:"jpg",crossOrigin:"anonymous"}));var o=_pendingLoaders.slice();_pendingLoaders=[];for(var r=0;r<o.length;r++)_imageManagerLoader.add(o[r]);_isLoading=!0,_imageManagerLoader.load()}}function addFbaImages(t){t&&_addToDictionary(t.getAllContentRaw())}function _addToDictionary(t){for(var e=0;e<t.length;e++)if(t[e]instanceof Image||t[e]instanceof SVGElement){var i=t[e];available(t[e].id,!0)||(_dict[i.id]=i)}for(var e=0;e<_onComplete.length;e++)_onComplete[e].call();_nextLoadCallback.length>0&&load(_nextLoadCallback)}function init(t){return new Promise(function(e,i){var n=[];Device.init(),CssManager.init(),addFbaImages(t),Promise.all(n).then(function(){e()}).catch(function(t){i(t)})})}function loadDynamic(){return new Promise(function(t,e){load(t,global.failAd)})}function get$1(t,e){if("string"!=typeof t)return t;switch(e=e||document,t=t.trim(),t[0]){case"#":return e.getElementById(t.slice(1));case".":return e.getElementsByClassName(t.slice(1));case"<":return e.getElementsByTagName(t.slice(1,t.length-1));default:return e.getElementById(t)}}function setCss(t,e){t=get$1(t);var i={};if(arguments.length>2)for(var n=1;n<arguments.length;n+=2)i=CssManager.conformCssKeyValue(arguments[n],arguments[n+1]);else i="string"==typeof arguments[1]?CssManager.conformCssString(arguments[1],t):CssManager.conformCssObject(arguments[1],t);CssManager.apply(t,i)}function getCss(t,e){t=get$1(t);var i;if("x"==e||"y"==e){var n=t.style[CssManager.getDeviceKey("transform")],o=n.replace(/[\s\(\)matrix]/g,"").split(",");i=o.length<6?0:+o["x"==e?4:5]}else{i=window.getComputedStyle(t,null).getPropertyValue(e).replace(/px/,""),isNaN(i)||(i=parseInt(i,10))}return i}function injectStylesheet(t,e){if(!document.getElementById(t)){var i=document.createElement("style");i.type="text/css",i.id=t;var n=2===arguments.length?e:"";if(arguments.length>2)for(var o=0;o<arguments.length-1;o+=2){var r=arguments[o+1].replace(/\,\s+/g,",");n+=r,n+=" { "+(arguments[o+2]||"")+" }\n"}i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i)}}function addClass$1(t,e){for(var i=get$1(t),n=0;n<arguments.length-1;n++)i.classList.add(arguments[n+1])}function set$1(t,e,i,n){var o=get$1(t);n=!1!==n;var r=o.childNodes,s=[],a={};/(x)/gi.exec(e)&&(a.x={}),/(y)/gi.exec(e)&&(a.y={});for(var l=0;l<r.length;l++){var c=r[l];s[l]={};for(var u in a){var d=getCss(c,u),h=c[_rect[u][0]],f=d+h,p=a[u];0==l&&(p.min=d,p.max=f),d<p.min&&(p.min=d),p.max<f&&(p.max=f),s[l][u]=d}}var m={top:0,bottom:0,left:0,right:0};if(i)for(var g in m)m[g]=isNaN(i)?i[g]||0:i;var v={};for(var u in a){var b=a[u];n&&(v[u]=b.min+getCss(o,u)-m[_rect[u][2]]),v[_rect[u][1]]=b.max-b.min+m[_rect[u][2]]+m[_rect[u][3]]}for(setCss(o,v),l=0;l<r.length;l++){var c=r[l],v={};for(var u in a)v[u]=s[l][u]-a[u].min+m[_rect[u][2]];setCss(c,v)}}function get$2(t,e){var i=t.canvas||get$1(t),n={},o=!1!==e.snap,r=isDomElement(t)?0:1;"string"==typeof e&&(e=calculate(e));for(var s in e)if("x"==s||"y"==s){var a=e[s];if(!a)continue;"string"==typeof a&&(a={type:a});var l,c,u=0,d=!1,h=a.offset||0;if(void 0!==a.against){l=a.against;var f=0;isDomElement(l)?l.canvas?f=1:u=getCss(l,s):"number"==typeof l?(d=!0,u=l):(u=l[s],f=1),c=_rect$1[f][s],a.type===CENTER&&(e[s].outer=!1)}else l=i[_rect$1[r].parent],c=_rect$1[r][s];var p=i[_rect$1[r][s]];switch(t._type){case"arc":case"path":switch(a.type){case CENTER:p=0;break;default:h+=p/2}break;case"text":if("x"===s)switch(t.alignText){case"center":p=0;case"right":p*=-1}}var m=calculate(a.type,p,d?0:l[c],!d&&!!e[s].outer);null!=m&&(m+=u+h,n[s]=o?Math.round(m):m)}return n}function set$2(t,e){var i=get$2(t,e);if(isDomElement(t)){setCss(t.canvas||get$1(t),i)}else for(var n in i)t[n]=i[n];return i}function calculate(t,e,i,n){var o=1==arguments.length;switch(t){case"alignBottom":if(n&&(e=0),!o)return i-e;case"alignTop":return o?{y:t}:n?-e:0;case"alignRight":if(n&&(i+=e),!o)return i-e;case"alignLeft":return o?{x:t}:n?-e:0;case"alignCenter":return n&&(i=0),o?{x:t,y:t}:(i-e)/2;default:return null}}function isDomElement(t){return t instanceof HTMLElement||void 0!=t.canvas}function AdData(){var t=this;t.fonts={primary:"template_font"},t.colors={white:"#F5F5F1",grey:"#221F1F",red:"#E50914",black:"#000000"},t.svg={circle_play_btn:'<svg id="play_btn_svg" viewBox="0 0 32 32"><path class= "play_btn_svg_circle" d="M16,0A16,16,0,1,1,0,16,16,16,0,0,1,16,0Z" style="fill:#e50914; fill-rule:evenodd"/><path class= "play_btn_svg_arrow" d="M11,7l15,9L11,24Z" style="fill:#fff; fill-rule:evenodd"/></svg>'}}function Main(){var t=get$1("main");return setCss(t,{position:"absolute",width:adParams.adWidth,height:adParams.adHeight,opacity:0,left:"0px",top:"0px",overflow:"hidden",userSelect:"none"}),setCss(t,{backgroundColor:"#ffffff"}),t}function Intro(){var t=new UIComponent({id:"intro-container",target:View.main,css:{width:"inherit",height:"inherit"}});return t.introVideoPlayer=document.createElement("netflix-video"),t.introVideoPlayer.id="intro-video",t.introVideoPlayer.setAttribute("width",adParams.adWidth),t.introVideoPlayer.setAttribute("height",adParams.adHeight),t.introVideoPlayer.setAttribute("close-color-1",adData.colors.red),t.introVideoPlayer.setAttribute("close-color-2",adData.colors.white),t.introVideoPlayer.setAttribute("data-dynamic-key","Supercut"),t.introVideoPlayer.setAttribute("muted",""),t.introVideoPlayer.addEventListener("video-click",Control.handleIntroClick),t.introVideoPlayer.addEventListener("video-complete",Control.handleIntroVideoComplete),t.introVideoPlayer.addEventListener("video-close",Animation.showEndFrame),t.appendChild(t.introVideoPlayer),t.netflixLogo=document.createElement("netflix-brand-logo"),t.appendChild(t.netflixLogo),t}function EndFrame(){var t=new UIComponent({id:"end-frame-container",target:View.main,css:{width:"inherit",height:"inherit"}});return t.bg=document.createElement("netflix-img"),t.bg.setAttribute("id","endframe-bg"),t.bg.setAttribute("data-dynamic-key","endframe_bg_300x250"),t.appendChild(t.bg),t.pedigree=document.createElement("netflix-text"),t.pedigree.setAttribute("data-dynamic-key","Pedigree"),t.appendChild(t.pedigree),t.netflixLogo=document.createElement("netflix-brand-logo"),t.appendChild(t.netflixLogo),t.playBtn=new UIButton({id:"cicle-play-btn",target:t,css:{width:44,height:44},align:RIGHT,icon:[new UISvg({source:adData.svg.circle_play_btn,css:{width:24,height:24},align:CENTER})],onClick:Animation.showTrailerFrame,onOver:function(){TweenLite.set(".play_btn_svg_circle",{fill:adData.colors.white}),TweenLite.set(".play_btn_svg_arrow",{fill:adData.colors.red})},onOut:function(){TweenLite.set(".play_btn_svg_circle",{fill:adData.colors.red}),TweenLite.set(".play_btn_svg_arrow",{fill:adData.colors.white})}}),t.cta=document.createElement("netflix-cta"),t.cta.setAttribute("data-dynamic-key","CTA"),t.cta.setAttribute("arrow",""),t.cta.setAttribute("border",""),t.appendChild(t.cta),t}function TrailerFrame(){var t=new UIComponent({id:"trailer-frame",target:View.main,css:{width:adParams.adWidth,height:adParams.adHeight}});return t.hide=function(){TweenLite.set(t,{y:-adParams.adHeight})},t.bg=new UIComponent({id:"trailer-frame-bg",target:t,css:{width:adParams.adWidth,height:80,backgroundColor:adData.colors.grey},align:BOTTOM}),t.mainVideoPlayer=document.createElement("netflix-video"),t.mainVideoPlayer.id="main-video",t.mainVideoPlayer.setAttribute("width",300),t.mainVideoPlayer.setAttribute("height",200),t.mainVideoPlayer.setAttribute("color-1",adData.colors.red),t.mainVideoPlayer.setAttribute("color-2",adData.colors.white),t.mainVideoPlayer.setAttribute("close-color-1",adData.colors.red),t.mainVideoPlayer.setAttribute("close-color-2",adData.colors.white),t.mainVideoPlayer.setAttribute("data-dynamic-key","Trailer"),t.mainVideoPlayer.setAttribute("controls",""),t.mainVideoPlayer.addEventListener("video-click",Control.handleTrailerFrameClick),t.appendChild(t.mainVideoPlayer),t.cta=document.createElement("netflix-cta"),t.cta.setAttribute("data-dynamic-key","CTA"),t.cta.setAttribute("arrow",""),t.cta.setAttribute("border",""),t.appendChild(t.cta),t.netflixLogo=document.createElement("netflix-brand-logo"),t.appendChild(t.netflixLogo),t}function NetflixRibbon(){var t=document.createElement("netflix-flushed-ribbon");return t.setAttribute("width",adParams.adWidth),t.setAttribute("height",adParams.adHeight),t.style.position="absolute",View.main.appendChild(t),t}function MainBorder(){new UIBorder({target:View.main,size:1,color:"#000000"})}var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_adLoad=__webpack_require__(1),_adLoad2=_interopRequireDefault(_adLoad);module.exports={id:"310ca301-271b-40cd-859b-21f9350869d5",name:"pk-component-utils",description:"JS include containing common web-component utilities.",type:"packages",context:"Default",state:"published",updated:1526055511e3,full_name:"NetflixAdsEng/pk-component-utils",html_url:"https://github.com/NetflixAdsEng/pk-component-utils",username:"GitHub",version:"3.0.0"},window.Utils=window.Utils||{},Utils.createStyle=function(t,e){var i=t+"-component-stylesheet",n=document.getElementById(i)||this.stylesheet;n||(n=document.createElement("style"),n.type="text/css",n.id=i,this.appendChild(n));for(var o=n.innerHTML,r=0;r<arguments.length-1;r+=2){var s=arguments[r+1],a=" ";Array.isArray(s)&&(!0===s[1]&&(a=""),s=s[0]);var l=s.replace(/\,\s+/g,",");o+=t+a,o+=l,o+=" { "+(arguments[r+2]||"")+" }\n"}n.innerHTML=o,this.stylesheet=n},window.Utils=window.Utils||{},Utils.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Utils.isiOS=/iPad|iPhone|iPod/.test(navigator.userAgent),Utils.isiOS9up=Utils.isiOS&&navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]>9,Utils.isiPad=/iPad/.test(navigator.userAgent),Utils.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),window.Utils=window.Utils||{},Utils.SvgIcon=function(t,e,i){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttributeNS(null,"d",e),n.setAttribute("data-original",e),void 0!=i&&n.setAttribute("fill",i),n.setAttribute("class",t||""),n},window.Utils=window.Utils||{},Utils.textFit=function(t,e){function i(t,e){return-1<(" "+t.className+" ").indexOf(" "+e+" ")}var n={alignVert:!1,alignHoriz:!1,multiLine:!1,detectMultiLine:!0,minFontSize:6,maxFontSize:80,reProcess:!0,widthOnly:!1,alignVertWithFlexbox:!1};e||(e={});var o,r={};for(o in n)e.hasOwnProperty(o)?r[o]=e[o]:r[o]=n[o];for("function"==typeof t.toArray&&(t=t.toArray()),n=Object.prototype.toString.call(t),"[object Array]"!==n&&"[object NodeList]"!==n&&"[object HTMLCollection]"!==n&&(t=[t]),n=0;n<t.length;n++)!function(t,e){if(!("object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?t instanceof HTMLElement:t&&"object"===(void 0===t?"undefined":_typeof(t))&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)||!e.reProcess&&t.getAttribute("textFitted"))return!1;e.reProcess||t.setAttribute("textFitted",1);var n,o=t.innerHTML,r=window.getComputedStyle(t,null),s=t.clientWidth-parseInt(r.getPropertyValue("padding-left"),10)-parseInt(r.getPropertyValue("padding-right"),10);r=window.getComputedStyle(t,null);var a=t.clientHeight-parseInt(r.getPropertyValue("padding-top"),10)-parseInt(r.getPropertyValue("padding-bottom"),10);if(!s||!e.widthOnly&&!a){if(e.widthOnly)throw Error("Set a static width on the target element "+t.outerHTML+" before using textFit!");throw Error("Set a static height and width on the target element "+t.outerHTML+" before using textFit!")}for(-1===o.indexOf("textFitted")?(r=document.createElement("span"),r.className="textFitted",r.style.display="inline-block",r.innerHTML=o,t.innerHTML="",t.appendChild(r)):(r=t.querySelector("span.textFitted"),i(r,"textFitAlignVert")&&(r.className=r.className.replace("textFitAlignVert",""),r.style.height="",t.className.replace("textFitAlignVertFlex",""))),e.alignHoriz&&(t.style["text-align"]="center",r.style["text-align"]="center"),o=e.multiLine,e.detectMultiLine&&!o&&r.scrollHeight>=2*parseInt(window.getComputedStyle(r)["font-size"],10)&&(o=!0),o||(t.style["white-space"]="nowrap"),o=e.minFontSize+1,n=e.maxFontSize+1;o<=n;){var l=parseInt((o+n)/2,10);r.style.fontSize=l+"px",r.scrollWidth<=s&&(e.widthOnly||r.scrollHeight<=a)?o=l+1:n=l-1}r.style.fontSize=l-1+"px",e.alignVert&&(document.getElementById("textFitStyleSheet")||(l=document.createElement("style"),l.type="text/css",l.id="textFitStyleSheet",l.innerHTML=".textFitAlignVert{position: absolute;top: 0; right: 0; bottom: 0; left: 0;margin: auto;display: flex;justify-content: center;flex-direction: column;}.textFitAlignVertFlex{display: flex;}.textFitAlignVertFlex .textFitAlignVert{position: static;}",document.body.appendChild(l)),l=r.scrollHeight,"static"===window.getComputedStyle(t).position&&(t.style.position="relative"),i(r,"textFitAlignVert")||(r.className+=" textFitAlignVert"),r.style.height=l+"px",e.alignVertWithFlexbox&&!i(t,"textFitAlignVertFlex")&&(t.className+=" textFitAlignVertFlex"))}(t[n],r)},"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;i<n;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}():function(t){if("Element"in t){var e="classList",i="prototype",n=t.Element[i],o=Object,r=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[i].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},c=function(t){for(var e=r.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],n=0,o=i.length;n<o;n++)this.push(i[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=c[i]=[],d=function(){return new c(this)};if(a[i]=Error[i],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",-1!==l(this,t)},u.add=function(){var t,e=arguments,i=0,n=e.length,o=!1;do{t=e[i]+"",-1===l(this,t)&&(this.push(t),o=!0)}while(++i<n);o&&this._updateClassName()},u.remove=function(){var t,e,i=arguments,n=0,o=i.length,r=!1;do{for(t=i[n]+"",e=l(this,t);-1!==e;)this.splice(e,1),r=!0,e=l(this,t)}while(++n<o);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var i=this.contains(t),n=i?!0!==e&&"remove":!1!==e&&"add";return n&&this[n](t),!0===e||!1===e?e:!i},u.toString=function(){return this.join(" ")},o.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{o.defineProperty(n,e,h)}catch(t){-2146823252===t.number&&(h.enumerable=!1,o.defineProperty(n,e,h))}}else o[i].__defineGetter__&&n.__defineGetter__(e,d)}}(self)),function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}(),function(t,e){"object"==_typeof(exports)&&void 0!==module?e():(__WEBPACK_AMD_DEFINE_FACTORY__=e,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(0,function(){function t(){}function e(t){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(t,this)}function i(t,i){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,e._immediateFn(function(){var e=1===t._state?i.onFulfilled:i.onRejected;if(null!==e){var r;try{r=e(t._value)}catch(t){return void o(i.promise,t)}n(i.promise,r)}else(1===t._state?n:o)(i.promise,t._value)})):t._deferreds.push(i)}function n(t,i){try{if(i===t)throw new TypeError("A promise cannot be resolved with itself.");if(i&&("object"==(void 0===i?"undefined":_typeof(i))||"function"==typeof i)){var n=i.then;if(i instanceof e)return t._state=3,t._value=i,void r(t);if("function"==typeof n)return void s(function(t,e){return function(){t.apply(e,arguments)}}(n,i),t)}t._state=1,t._value=i,r(t)}catch(e){o(t,e)}}function o(t,e){t._state=2,t._value=e,r(t)}function r(t){2===t._state&&0===t._deferreds.length&&e._immediateFn(function(){t._handled||e._unhandledRejectionFn(t._value)});for(var n=0,o=t._deferreds.length;o>n;n++)i(t,t._deferreds[n]);t._deferreds=null}function s(t,e){var i=!1;try{t(function(t){i||(i=!0,n(e,t))},function(t){i||(i=!0,o(e,t))})}catch(t){if(i)return;i=!0,o(e,t)}}var a=setTimeout;e.prototype.catch=function(t){return this.then(null,t)},e.prototype.then=function(e,n){var o=new this.constructor(t);return i(this,new function(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}(e,n,o)),o},e.prototype.finally=function(t){var e=this.constructor;return this.then(function(i){return e.resolve(t()).then(function(){return i})},function(i){return e.resolve(t()).then(function(){return e.reject(i)})})},e.all=function(t){return new e(function(e,i){function n(t,s){try{if(s&&("object"==(void 0===s?"undefined":_typeof(s))||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){n(t,e)},i)}o[t]=s,0==--r&&e(o)}catch(t){i(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);for(var r=o.length,s=0;o.length>s;s++)n(s,o[s])})},e.resolve=function(t){return t&&"object"==(void 0===t?"undefined":_typeof(t))&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,i){i(t)})},e.race=function(t){return new e(function(e,i){for(var n=0,o=t.length;o>n;n++)t[n].then(e,i)})},e._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){a(t,0)},e._unhandledRejectionFn=function(t){void 0!==console&&console};var l=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==l)return l;throw Error("unable to locate global object")}();l.Promise||(l.Promise=e)});/*!
 * VERSION: 0.8.1
 * DATE: 2015-12-18
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2016, GreenSock. All rights reserved.
 * MorphSVGPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope=void 0!==module&&module.exports&&void 0!==global?global:window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){var t=Math.PI/180,e=180/Math.PI,i=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,n=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,o=/[achlmqstvz]/gi,r=_gsScope.TweenLite,s=function(t){window.console},a=function(e,i){var n,o,r,s,a,l,c=Math.ceil(Math.abs(i)/90),u=0,d=[];for(e*=t,i*=t,n=i/c,o=4/3*Math.sin(n/2)/(1+Math.cos(n/2)),l=0;c>l;l++)r=e+l*n,s=Math.cos(r),a=Math.sin(r),d[u++]=s-o*a,d[u++]=a+o*s,r+=n,s=Math.cos(r),a=Math.sin(r),d[u++]=s+o*a,d[u++]=a-o*s,d[u++]=s,d[u++]=a;return d},l=function(i,n,o,r,s,l,c,u,d){if(i!==u||n!==d){o=Math.abs(o),r=Math.abs(r);var h=s%360*t,f=Math.cos(h),p=Math.sin(h),m=(i-u)/2,g=(n-d)/2,v=f*m+p*g,b=-p*m+f*g,y=o*o,_=r*r,w=v*v,x=b*b,E=w/y+x/_;E>1&&(o=Math.sqrt(E)*o,r=Math.sqrt(E)*r,y=o*o,_=r*r);var A=l===c?-1:1,C=(y*_-y*x-_*w)/(y*x+_*w);0>C&&(C=0);var S=A*Math.sqrt(C),L=S*(o*b/r),M=S*(-r*v/o),T=(i+u)/2,F=(n+d)/2,k=T+(f*L-p*M),D=F+(p*L+f*M),O=(v-L)/o,P=(b-M)/r,N=(-v-L)/o,I=(-b-M)/r,V=Math.sqrt(O*O+P*P),U=O;A=0>P?-1:1;var B=A*Math.acos(U/V)*e;V=Math.sqrt((O*O+P*P)*(N*N+I*I)),U=O*N+P*I,A=0>O*I-P*N?-1:1;var R=A*Math.acos(U/V)*e;!c&&R>0?R-=360:c&&0>R&&(R+=360),R%=360,B%=360;var j,H,z,W=a(B,R),G=f*o,Y=p*o,K=p*-r,$=f*r,X=W.length-2;for(j=0;X>j;j+=2)H=W[j],z=W[j+1],W[j]=H*G+z*K+k,W[j+1]=H*Y+z*$+D;return W[W.length-2]=u,W[W.length-1]=d,W}},c=function(t){var e,n,o,r,a,c,u,d,h,f,p,m,g,v=(t+"").match(i)||[],b=[],y=0,_=0,w=v.length,x=2,E=0;if(!t||!isNaN(v[0])||isNaN(v[1]))return s(),b;for(e=0;w>e;e++)if(g=a,isNaN(v[e])?(a=v[e].toUpperCase(),c=a!==v[e]):e--,o=+v[e+1],r=+v[e+2],c&&(o+=y,r+=_),0===e&&(d=o,h=r),"M"===a)u&&u.length<8&&(b.length-=1,x=0),y=d=o,_=h=r,u=[o,r],E+=x,x=2,b.push(u),e+=2,a="L";else if("C"===a)u||(u=[0,0]),u[x++]=o,u[x++]=r,c||(y=_=0),u[x++]=y+1*v[e+3],u[x++]=_+1*v[e+4],u[x++]=y+=1*v[e+5],u[x++]=_+=1*v[e+6],e+=6;else if("S"===a)"C"===g||"S"===g?(f=y-u[x-4],p=_-u[x-3],u[x++]=y+f,u[x++]=_+p):(u[x++]=y,u[x++]=_),u[x++]=o,u[x++]=r,c||(y=_=0),u[x++]=y+=1*v[e+3],u[x++]=_+=1*v[e+4],e+=4;else if("Q"===a)f=o-y,p=r-_,u[x++]=y+2*f/3,u[x++]=_+2*p/3,c||(y=_=0),y+=1*v[e+3],_+=1*v[e+4],f=o-y,p=r-_,u[x++]=y+2*f/3,u[x++]=_+2*p/3,u[x++]=y,u[x++]=_,e+=4;else if("T"===a)f=y-u[x-4],p=_-u[x-3],u[x++]=y+f,u[x++]=_+p,f=y+1.5*f-o,p=_+1.5*p-r,u[x++]=o+2*f/3,u[x++]=r+2*p/3,u[x++]=y=o,u[x++]=_=r,e+=2;else if("H"===a)r=_,u[x++]=y+(o-y)/3,u[x++]=_+(r-_)/3,u[x++]=y+2*(o-y)/3,u[x++]=_+2*(r-_)/3,u[x++]=y=o,u[x++]=r,e+=1;else if("V"===a)r=o,o=y,c&&(r+=_-y),u[x++]=o,u[x++]=_+(r-_)/3,u[x++]=o,u[x++]=_+2*(r-_)/3,u[x++]=o,u[x++]=_=r,e+=1;else if("L"===a||"Z"===a)"Z"===a&&(o=d,r=h,u.closed=!0),("L"===a||Math.abs(y-o)>.5||Math.abs(_-r)>.5)&&(u[x++]=y+(o-y)/3,u[x++]=_+(r-_)/3,u[x++]=y+2*(o-y)/3,u[x++]=_+2*(r-_)/3,u[x++]=o,u[x++]=r,"L"===a&&(e+=2)),y=o,_=r;else if("A"===a){for(m=l(y,_,1*v[e+1],1*v[e+2],1*v[e+3],1*v[e+4],1*v[e+5],(c?y:0)+1*v[e+6],(c?_:0)+1*v[e+7]),n=0;n<m.length;n++)u[x++]=m[n];y=u[x-2],_=u[x-1],e+=7}else s();return b.totalPoints=E+x,b},u=function(t,e){var i,n,o,r,s,a,l,c,u,d,h,f,p,m,g=0,v=t.length,b=e/((v-2)/6);for(p=2;v>p;p+=6)for(g+=b;g>.999999;)i=t[p-2],n=t[p-1],o=t[p],r=t[p+1],s=t[p+2],a=t[p+3],l=t[p+4],c=t[p+5],m=1/(Math.floor(g)+1),u=i+(o-i)*m,h=o+(s-o)*m,u+=(h-u)*m,h+=(s+(l-s)*m-h)*m,d=n+(r-n)*m,f=r+(a-r)*m,d+=(f-d)*m,f+=(a+(c-a)*m-f)*m,t.splice(p,4,i+(o-i)*m,n+(r-n)*m,u,d,u+(h-u)*m,d+(f-d)*m,h,f,s+(l-s)*m,a+(c-a)*m),p+=6,v+=6,g--;return t},d=function(t){var e,i,n,o,r="",s=t.length,a=100;for(i=0;s>i;i++){for(o=t[i],r+="M"+o[0]+","+o[1]+" C",e=o.length,n=2;e>n;n++)r+=(o[n++]*a|0)/a+","+(o[n++]*a|0)/a+" "+(o[n++]*a|0)/a+","+(o[n++]*a|0)/a+" "+(o[n++]*a|0)/a+","+(o[n]*a|0)/a+" ";o.closed&&(r+="z")}return r},h=function(t){for(var e=[],i=t.length-1,n=0;--i>-1;)e[n++]=t[i],e[n++]=t[i+1],i--;for(i=0;n>i;i++)t[i]=e[i];t.reversed=!t.reversed},f=function(t){var e,i=t.length,n=0,o=0;for(e=0;i>e;e++)n+=t[e++],o+=t[e];return[n/(i/2),o/(i/2)]},p=function(t){var e,i,n,o=t.length,r=t[0],s=r,a=t[1],l=a;for(n=6;o>n;n+=6)e=t[n],i=t[n+1],e>r?r=e:s>e&&(s=e),i>a?a=i:l>i&&(l=i);return t.centerX=(r+s)/2,t.centerY=(a+l)/2,t.size=(r-s)*(a-l)},m=function(t){for(var e,i,n,o,r,s=t.length,a=t[0][0],l=a,c=t[0][1],u=c;--s>-1;)for(r=t[s],e=r.length,o=6;e>o;o+=6)i=r[o],n=r[o+1],i>a?a=i:l>i&&(l=i),n>c?c=n:u>n&&(u=n);return t.centerX=(a+l)/2,t.centerY=(c+u)/2,t.size=(a-l)*(c-u)},g=function(t,e){return e.length-t.length},v=function(t,e){var i=t.size||p(t),n=e.size||p(e);return Math.abs(n-i)<(i+n)/20?e.centerX-t.centerX||e.centerY-t.centerY:n-i},b=function(t,e){var i,n,o=t.slice(0),r=t.length,s=r-2;for(e|=0,i=0;r>i;i++)n=(i+e)%s,t[i++]=o[n],t[i]=o[n+1]},y=function(t,e,i,n,o){var r,s,a,l,c=t.length,u=0,d=c-2;for(i*=6,s=0;c>s;s+=6)r=(s+i)%d,l=t[r]-(e[s]-n),a=t[r+1]-(e[s+1]-o),u+=Math.sqrt(a*a+l*l);return u},_=function(t,e,i){var n,o,r,s=t.length,a=f(t),l=f(e),c=l[0]-a[0],u=l[1]-a[1],d=y(t,e,0,c,u),p=0;for(r=6;s>r;r+=6)o=y(t,e,r/6,c,u),d>o&&(d=o,p=r);if(i)for(n=t.slice(0),h(n),r=6;s>r;r+=6)o=y(n,e,r/6,c,u),d>o&&(d=o,p=-r);return p/6},w=function(t,e,i){for(var n,o,r,s,a,l,c=t.length,u=99999999999,d=0,h=0;--c>-1;)for(n=t[c],l=n.length,a=0;l>a;a+=6)o=n[a]-e,r=n[a+1]-i,s=Math.sqrt(o*o+r*r),u>s&&(u=s,d=n[a],h=n[a+1]);return[d,h]},x=function(t,e,i,n,o,r){var s,a,l,c,u,d=e.length,h=0,f=Math.min(t.size||p(t),e[i].size||p(e[i]))*n,m=999999999999,g=t.centerX+o,v=t.centerY+r;for(a=i;d>a&&(s=e[a].size||p(e[a]),!(f>s));a++)l=e[a].centerX-g,c=e[a].centerY-v,u=Math.sqrt(l*l+c*c),m>u&&(h=a,m=u);return u=e[h],e.splice(h,1),u},E=function(t,e,i,n){var o,r,a,l,c,d,f,y=e.length-t.length,E=y>0?e:t,A=y>0?t:e,C=0,S="complexity"===n?g:v,L="position"===n?0:"number"==typeof n?n:.8,M=A.length,T="object"==(void 0===i?"undefined":_typeof(i))&&i.push?i.slice(0):[i],F="reverse"===T[0]||T[0]<0,k="log"===i;if(A[0]){if(E.length>1&&(t.sort(S),e.sort(S),d=E.size||m(E),d=A.size||m(A),d=E.centerX-A.centerX,f=E.centerY-A.centerY,S===v))for(M=0;M<A.length;M++)E.splice(M,0,x(A[M],E,M,L,d,f));if(y)for(0>y&&(y=-y),E[0].length>A[0].length&&u(A[0],(E[0].length-A[0].length)/6|0),M=A.length;y>C;)l=E[M].size||p(E[M]),a=w(A,E[M].centerX,E[M].centerY),l=a[0],c=a[1],A[M++]=[l,c,l,c,l,c,l,c],A.totalPoints+=8,C++;for(M=0;M<t.length;M++)o=e[M],r=t[M],y=o.length-r.length,0>y?u(o,-y/6|0):y>0&&u(r,y/6|0),F&&!r.reversed&&h(r),(i=T[M]||0===T[M]?T[M]:"auto")&&(r.closed||Math.abs(r[0]-r[r.length-2])<.5&&Math.abs(r[1]-r[r.length-1])<.5?"auto"===i||"log"===i?(T[M]=i=_(r,o,0===M),0>i&&(F=!0,h(r),i=-i),b(r,6*i)):"reverse"!==i&&(M&&0>i&&h(r),b(r,6*(0>i?-i:i))):!F&&("auto"===i&&Math.abs(o[0]-r[0])+Math.abs(o[1]-r[1])+Math.abs(o[o.length-2]-r[r.length-2])+Math.abs(o[o.length-1]-r[r.length-1])>Math.abs(o[0]-r[r.length-2])+Math.abs(o[1]-r[r.length-1])+Math.abs(o[o.length-2]-r[0])+Math.abs(o[o.length-1]-r[1])||i%2)?(h(r),T[M]=-1,F=!0):"auto"===i?T[M]=0:"reverse"===i&&(T[M]=-1),r.closed!==o.closed&&(r.closed=o.closed=!1));return k&&s(T.join(",")),T}},A=function(t,e,i,n){var o=c(t[0]),r=c(t[1]);E(o,r,e||0===e?e:"auto",i)&&(t[0]=d(o),t[1]=d(r),("log"===n||!0===n)&&s((t[0],t[1])))},C=function(t,e,i){return e||i||t||0===t?function(n){A(n,t,e,i)}:A},S=function(t,e){if(!e)return t;var i,o,r,s=t.match(n)||[],a=s.length,l="";for("reverse"===e?(o=a-1,i=-2):(o=(2*(parseInt(e,10)||0)+1+100*a)%a,i=2),r=0;a>r;r+=2)l+=s[o-1]+","+s[o]+" ",o=(o+i)%a;return l},L=function(t,e){var i,n,o,r,s,a,l,c=0,u=parseFloat(t[0]),d=parseFloat(t[1]),h=u+","+d+" ",f=.999999;for(o=t.length,i=.5*e/(.5*o-1),n=0;o-2>n;n+=2){if(c+=i,a=parseFloat(t[n+2]),l=parseFloat(t[n+3]),c>f)for(s=1/(Math.floor(c)+1),r=1;c>f;)h+=(u+(a-u)*s*r).toFixed(2)+","+(d+(l-d)*s*r).toFixed(2)+" ",c--,r++;h+=a+","+l+" ",u=a,d=l}return h},M=function(t){var e=t[0].match(n)||[],i=t[1].match(n)||[],o=i.length-e.length;o>0?t[0]=L(e,o):t[1]=L(i,-o)},T=function(t){return isNaN(t)?M:function(e){M(e),e[1]=S(e[1],parseInt(t,10))}},F=function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","path"),n=Array.prototype.slice.call(t.attributes),o=n.length;for(e=","+e+",";--o>-1;)-1===e.indexOf(","+n[o].nodeName+",")&&i.setAttributeNS(null,n[o].nodeName,n[o].nodeValue);return i},k=function(t,e){var i,o,r,s,a,l,c,u,d,h,f,p,m,g,v,b,y,_,w,x,E,A=t.tagName.toLowerCase(),C=.552284749831;return"path"!==A&&t.getBBox?(l=F(t,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),"rect"===A?(s=+t.getAttribute("rx")||0,a=+t.getAttribute("ry")||0,o=+t.getAttribute("x")||0,r=+t.getAttribute("y")||0,h=(+t.getAttribute("width")||0)-2*s,f=(+t.getAttribute("height")||0)-2*a,s||a?(p=o+s*(1-C),m=o+s,g=m+h,v=g+s*C,b=g+s,y=r+a*(1-C),_=r+a,w=_+f,x=w+a*C,E=w+a,i="M"+b+","+_+" V"+w+" C"+[b,x,v,E,g,E,g-(g-m)/3,E,m+(g-m)/3,E,m,E,p,E,o,x,o,w,o,w-(w-_)/3,o,_+(w-_)/3,o,_,o,y,p,r,m,r,m+(g-m)/3,r,g-(g-m)/3,r,g,r,v,r,b,y,b,_].join(",")+"z"):i="M"+(o+h)+","+r+" v"+f+" h"+-h+" v"+-f+" h"+h+"z"):"circle"===A||"ellipse"===A?("circle"===A?(s=a=+t.getAttribute("r")||0,u=s*C):(s=+t.getAttribute("rx")||0,a=+t.getAttribute("ry")||0,u=a*C),o=+t.getAttribute("cx")||0,r=+t.getAttribute("cy")||0,c=s*C,i="M"+(o+s)+","+r+" C"+[o+s,r+u,o+c,r+a,o,r+a,o-c,r+a,o-s,r+u,o-s,r,o-s,r-u,o-c,r-a,o,r-a,o+c,r-a,o+s,r-u,o+s,r].join(",")+"z"):"line"===A?i="M"+t.getAttribute("x1")+","+t.getAttribute("y1")+" L"+t.getAttribute("x2")+","+t.getAttribute("y2"):("polyline"===A||"polygon"===A)&&(d=(t.getAttribute("points")+"").match(n)||[],o=d.shift(),r=d.shift(),i="M"+o+","+r+" L"+d.join(","),"polygon"===A&&(i+=","+o+","+r+"z")),l.setAttribute("d",i),e&&t.parentNode&&(t.parentNode.insertBefore(l,t),t.parentNode.removeChild(t)),l):t},D=function(t,e,i){var o,a,l="string"==typeof t;return(!l||(t.match(n)||[]).length<3)&&(o=l?r.selector(t):[t],o&&o[0]?(o=o[0],a=o.nodeName.toUpperCase(),e&&"PATH"!==a&&(o=k(o,!1),a="PATH"),t=o.getAttribute("PATH"===a?"d":"points")||"",o===i&&(t=o.getAttributeNS(null,"data-original")||t)):(s(),t=!1)),t},O=_gsScope._gsDefine.plugin({propName:"morphSVG",API:2,global:!0,version:"0.8.1",init:function(t,e,i){var n,r,a,l,c;return"function"==typeof t.setAttribute&&(n=t.nodeName.toUpperCase(),c="POLYLINE"===n||"POLYGON"===n,"PATH"===n||c?(r="PATH"===n?"d":"points",("string"==typeof e||e.getBBox||e[0])&&(e={shape:e}),l=D(e.shape||e.d||e.points||"","d"===r,t),c&&o.test(l)?(s(),!1):(l&&(this._target=t,t.getAttributeNS(null,"data-original")||t.setAttributeNS(null,"data-original",t.getAttribute(r)),(a=this._addTween(t,"setAttribute",t.getAttribute(r)+"",l+"","morphSVG",!1,r,"object"==_typeof(e.precompile)?function(t){t[0]=e.precompile[0],t[1]=e.precompile[1]}:"d"===r?C(e.shapeIndex,e.map||O.defaultMap,e.precompile):T(e.shapeIndex)))&&(this._overwriteProps.push("morphSVG"),a.end=l,a.endProp=r)),!0)):(s(),!1))},set:function(t){var e;if(this._super.setRatio.call(this,t),1===t)for(e=this._firstPT;e;)e.end&&this._target.setAttribute(e.endProp,e.end),e=e._next}});O.pathFilter=A,O.pointsFilter=M,O.subdivideRawBezier=u,O.defaultMap="size",O.pathDataToRawBezier=function(t){return c(D(t,!0))},O.equalizeSegmentQuantity=E,O.convertToPath=function(t,e){"string"==typeof t&&(t=r.selector(t));for(var i=t&&0!==t.length?t.length&&t[0]&&t[0].nodeType?Array.prototype.slice.call(t,0):[t]:[],n=i.length;--n>-1;)i[n]=k(i[n],!1!==e);return i},O.pathDataToBezier=function(t,e){var i,n,o,s,a,l,u,d,h=c(D(t,!0))[0]||[],f=0;if(e=e||{},d=e.align||e.relative,s=e.matrix||[1,0,0,1,0,0],a=e.offsetX||0,l=e.offsetY||0,"relative"===d||!0===d?(a-=h[0]*s[0]+h[1]*s[2],l-=h[0]*s[1]+h[1]*s[3],f="+="):(a+=s[4],l+=s[5],d&&(d="string"==typeof d?r.selector(d):[d])&&d[0]&&(u=d[0].getBBox()||{x:0,y:0},a-=u.x,l-=u.y)),i=[],o=h.length,s)for(n=0;o>n;n+=2)i.push({x:f+(h[n]*s[0]+h[n+1]*s[2]+a),y:f+(h[n]*s[1]+h[n+1]*s[3]+l)});else for(n=0;o>n;n+=2)i.push({x:f+(h[n]+a),y:f+(h[n+1]+l)});return i}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(){function t(t,e,i,n){var o=!1,r=t.namespaceURI,s=[];if(e.indexOf("url(")>-1&&(o=!0),e=e.replace("url(#","").replace(")",""),o){var a=document.createElementNS(r,"linearGradient");a.setAttribute("id",e),a.setAttribute("gradientUnits","userSpaceOnUse"),a.setAttribute("spreadMethod","pad"),a.setAttribute("x1",n.x1||0),a.setAttribute("y1",n.y1||0),a.setAttribute("x2",n.x2||0),a.setAttribute("y2",n.y2||0)}for(var l=0;l<i.length;l++){var c=i[l],u=document.createElementNS(r,"stop");for(var d in c)c.hasOwnProperty(d)&&u.setAttribute(d,c[d]);o&&a.appendChild(u),s.push(u)}if(o){(t.querySelector("defs")||t.insertBefore(document.createElementNS(r,"defs"),t.firstChild)).appendChild(a)}return s}function e(e,n,o){var r=document.createElementNS("http://www.w3.org/2000/svg","path");if(r.setAttributeNS(null,"d",e),r.setAttribute("fill",n),o){var s=[];s.push({offset:"0%","stop-color":o.stop1||"#B60009"}),o.stop3?(s.push({offset:"50%","stop-color":o.stop2||"#540001"}),s.push({offset:"100%","stop-color":o.stop3||"#B60009"})):s.push({offset:"100%","stop-color":o.stop2||"#540001"}),r.gradient=t(i,n,s,o)}return r}var i;!function(){var t=Object.create(HTMLElement.prototype,{attachedCallback:{value:function(){if(!this._attached){this._attached=!0;for(var t=document.querySelectorAll("netflix-brand-logo"),n=0;n<t.length;n++)void 0==t[n].uid&&(t[n].uid=n);Utils.createStyle.call(this,"netflix-brand-logo","","position:absolute;  pointer-events:none;","svg","-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform-origin:top left;transform-origin:top left;"),this.lowBranding=this.hasAttribute("lowBranding")||!1,this.color=this.getAttribute("color")||"#E50914",this.animDuration=this.getAttribute("duration")||1.375,i=this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.setAttribute("width","936px"),this.svg.setAttribute("height","254px"),this.svg.setAttribute("viewBox","0 0 936 254"),this.resize(),this.lowBranding?(this.n_leftShape=e("M 45 2 L 0 2 0 235 Q 17 231 45 232 L 45 2 Z","url(#n_leftGrad"+this.uid+")",{x1:"-48",y1:"-141",x2:"-38",y2:"-144"}),this.n_leftShape.to="M 37 2 L 0 2 0 254 Q 19 251 40 249 L 37 2 Z",this.n_rightShape=e("M 127 2 L 83 2 83 219 127 235 127 2 Z","url(#n_rightGrad"+this.uid+")",{x1:"104",y1:"140",x2:"84",y2:"146"}),this.n_rightShape.to="M 128 2 L 90 2 89 242 128 238 129 2 Z"):(this.n_leftShape=e("M 45 2 L 0 2 0 235 Q 17 231 45 232 L 45 2 Z",this.color,{x1:"-48",y1:"-141",x2:"-38",y2:"-144"}),this.n_leftShape.to="M 37 2 L 0 2 0 254 Q 19 251 40 249 L 37 2 Z",this.n_rightShape=e("M 127 2 L 83 2 83 219 127 235 127 2 Z",this.color,{x1:"104",y1:"140",x2:"84",y2:"146"}),this.n_rightShape.to="M 128 2 L 90 2 89 242 128 238 129 2 Z"),this.n_midShape=e("M 45 2 L 0 2 81 232 Q 110 231 127 236 L 45 2 Z",this.color),this.n_midShape.to="M 37 2 L 0 2 85 243 123 239 37 2 Z",this.e_topShape=e("M 274 41 L 274 1 167 1 167 41 274 41 Z",this.color),this.e_topShape.to="M 167 41 L 167 1 167 1 167 41 167 41 Z",this.e_mainShape=e("M 206 3 L 167 3 167 227 206 227 206 3 Z",this.color,{x1:"190",y1:"65",x2:"190",y2:"24",stop1:this.color}),this.e_mainShape.to="M 206 3 L 206 3 167 3 167 3 206 3 Z",this.e_bottomShape=e("M 274 186 L 167 188 167 227 274 225 274 186 Z",this.color,{x1:"232",y1:"204",x2:"197",y2:"205",stop1:this.color}),this.e_bottomShape.to="M 167 188 L 167 188 167 227 167 227 167 188 Z",this.e_midShape=e("M 182 134 L 257 134 257 94 182 94 182 134 Z",this.color),this.e_midShape.to="M 182 94 L 182 94 182 134 182 134 182 94 Z",this.t_midShape=e("M 381 8 L 341 8 341 224 381 222 381 8 Z",this.color,{x1:"366",y1:"69",x2:"366",y2:"29",stop1:this.color}),this.t_midShape.to="M 381 8 L 381 8 341 8 341 8 381 8 Z",this.t_topShape=e("M 423 41 L 423 1 300 1 300 41 423 41 Z",this.color),this.t_topShape.to="M 300 41 L 300 1 300 1 300 41 300 41 ",this.f_topShape=e("M 558 41 L 558 1 448 1 448 41 558 41 Z",this.color),this.f_topShape.to="M 448 41 L 448 1 448 1 448 41 448 41 Z",this.f_midShape=e("M 541 132 L 541 92 466 92 466 132 541 132 Z",this.color),this.f_midShape.to="M 466 132 L 466 92 466 92 466 132 466 132 Z",this.f_mainShape=e("M 488 18 L 448 18 448 222 488 222 488 18 Z",this.color,{x1:"472",y1:"69",x2:"472",y2:"28",stop1:this.color}),this.f_mainShape.to="M 488 18 L 448 18 448 18 488 18 488 18 Z",this.l_bottomShape=e("M 691 231 L 691 192 584 184 584 223 691 231 Z",this.color),this.l_bottomShape.to="M 584.1 223.1 L 584.1 184.1 584 184 584 223 584.1 223.1 Z",this.l_mainShape=e("M 624 0 L 584 0 584 223 624 223 624 0 Z",this.color,{x1:"599",y1:"158",x2:"599",y2:"201",stop1:this.color}),this.l_mainShape.to="M 624 0 L 584 0 584 0 624 0 624 0 Z",this.i_mainShape=e("M 763 0 L 723 0 723 230 763 233 763 0 Z",this.color),this.i_mainShape.to="M 763 0 L 723 0 723 0 763 0 763 0 Z",this.x_frontShape=e("M 791 236 L 791 236 831 241 831 241 791 236 Z",this.color),this.x_frontShape.to="M 935 1 L 893 1 791 236 831 241 935 1 Z",this.x_backShape=e("M 891 248 L 934 254 837 0 794 0 891 248 Z",this.color,{x1:"946",y1:"-104",x2:"1011",y2:"-64",stop1:this.color}),this.x_backShape.to="M 827 0 L 784 0 791 0 833 0 827 0 Z";for(var o=["n_leftShape","n_rightShape","n_midShape","e_bottomShape","e_midShape","e_mainShape","e_topShape","t_midShape","t_topShape","f_midShape","f_mainShape","f_topShape","l_mainShape","l_bottomShape","i_mainShape","x_backShape","x_frontShape"],n=0;n<o.length;n++)this.svg.appendChild(this[o[n]]);this.appendChild(this.svg),this.timeline=new TimelineMax({paused:!0,onComplete:this.onPlayComplete.bind(this),onReverseComplete:this.onReverseComplete.bind(this)});Number(window.getComputedStyle(this,"left").left.replace("px",""));this.timeline.add("start").to(this.n_leftShape,1.3,{morphSVG:this.n_leftShape.to,ease:Quad.easeOut},"start+=.2").to(this.n_leftShape.gradient,1.3,{stopColor:this.color,ease:Linear.easeNone},"start+=.2").to(this.n_rightShape,1.3,{morphSVG:this.n_rightShape.to,ease:Quad.easeOut},"start+=.2").to(this.n_rightShape.gradient,1.3,{stopColor:this.color,ease:Linear.easeNone},"start+=.2").to(this.n_midShape,1.3,{morphSVG:this.n_midShape.to,ease:Quad.easeOut},"start+=.2").fromTo(this.e_topShape,.15,{morphSVG:this.e_topShape.to},{morphSVG:this.e_topShape,ease:Quad.easeOut},"start+=.425").fromTo(this.e_mainShape,.15,{morphSVG:this.e_mainShape.to},{morphSVG:this.e_mainShape,ease:Quad.easeOut},"start+=.45").to(this.e_mainShape.gradient,.3,{stopColor:this.color,ease:Linear.easeNone},"start+=.6").fromTo(this.e_midShape,.15,{morphSVG:this.e_midShape.to},{morphSVG:this.e_midShape,ease:Quad.easeOut},"start+=.55").fromTo(this.e_bottomShape,.15,{morphSVG:this.e_bottomShape.to},{morphSVG:this.e_bottomShape.to,ease:Quad.easeOut},"start+=.575").to(this.e_bottomShape,.15,{morphSVG:"M 274 187 L 167 194 167 233 274 226 274 187 Z",ease:Quad.easeOut},"start+=.585").to(this.e_bottomShape.gradient,.3,{stopColor:this.color,ease:Linear.easeNone},"start+=.595").fromTo(this.t_topShape,.15,{morphSVG:this.t_topShape.to},{morphSVG:this.t_topShape,ease:Quad.easeOut},"start+=.575").fromTo(this.t_midShape,.15,{morphSVG:this.t_midShape.to},{morphSVG:this.t_midShape,ease:Quad.easeOut},"start+=.6").to(this.t_midShape.gradient,.3,{stopColor:this.color,ease:Linear.easeNone},"start+=.75").fromTo(this.f_topShape,.15,{morphSVG:this.f_topShape.to},{morphSVG:this.f_topShape,ease:Quad.easeOut},"start+=.625").fromTo(this.f_mainShape,.2,{morphSVG:this.f_mainShape.to},{morphSVG:this.f_mainShape,ease:Quad.easeOut},"start+=.675").fromTo(this.f_midShape,.15,{morphSVG:this.f_midShape.to},{morphSVG:this.f_midShape,ease:Quad.easeOut},"start+=.775").to(this.f_mainShape.gradient,.3,{stopColor:this.color,ease:Linear.easeNone},"start+=.9").fromTo(this.l_mainShape,.15,{morphSVG:this.l_mainShape.to},{morphSVG:this.l_mainShape,ease:Quad.easeOut},"start+=.725").fromTo(this.l_bottomShape,.15,{morphSVG:this.l_bottomShape.to},{morphSVG:this.l_bottomShape,ease:Quad.easeOut},"start+=.85").to(this.l_bottomShape,.3,{morphSVG:"M 691 228 L 691 189 584 184 584 223 691 228 Z",ease:Quad.easeOut},"start+=1").to(this.l_mainShape.gradient,.3,{stopColor:this.color,ease:Linear.easeNone},"start+=1.025").fromTo(this.i_mainShape,.15,{morphSVG:this.i_mainShape.to},{morphSVG:this.i_mainShape,ease:Quad.easeOut},"start+=.875").fromTo(this.x_backShape,.3,{morphSVG:this.x_backShape.to},{morphSVG:{shape:this.x_backShape,shapeIndex:2},ease:Quad.easeOut},"start+=.925").to(this.x_frontShape,.3,{morphSVG:{shape:"M 935 1 L 893 1 790 237 831 241 935 1 Z",shapeIndex:3},ease:Quad.easeOut},"start+=1.025").to(this.x_backShape.gradient,.3,{stopColor:this.color,ease:Linear.easeNone},"start+=1.025"),this.dispatchEvent(new CustomEvent("ready"))}},enumerable:!0},attributeChangedCallback:{value:function(){var t=this.getAttribute("width");t=parseInt(t,10),this.size&&this.size.w!=t&&this.resize()},enumerable:!0},resize:{value:function(t){var e,i,n;t?(e=t.w,i=t.h,n=e/936):this.lowBranding?(e=Number(this.getAttribute("width")||this.offsetWidth||100),i=Number(2*e),n=e/127):(e=Number(this.getAttribute("width")||this.offsetWidth||100),i=Number(254/936*e),n=e/936),this.size={w:e,h:i},TweenLite.set(this,{width:e,height:i}),this.svg.setAttribute("style","transform: scale("+n+");-webkit-transform: scale("+n+");")}},play:{value:function(){this.lowBranding||this.timeline.duration(this.animDuration).play()}},reset:{value:function(){this.lowBranding||this.timeline.seek(0)}},reverse:{value:function(){this.lowBranding||this.timeline.reverse()}},progress:{value:function(t){this.lowBranding||this.timeline.progress(t)}},onPlayComplete:{value:function(){this.dispatchEvent(new CustomEvent("playComplete"))}},onReverseComplete:{value:function(){this.dispatchEvent(new CustomEvent("reverseComplete"))}},preview:{value:function(){this.addEventListener("ready",function(){this.play(),setTimeout(this.reverse.bind(this),3e3)}.bind(this))}}});document.registerElement("netflix-brand-logo",{prototype:t})}()}(),module.exports={id:"4494e59a-accb-4458-bc6b-455de349744f",name:"wc-netflix-brand-logo",description:"New Netflix brand logo animation. Netflix --\x3e N; N --\x3e Netflix",type:"web_components",context:"Default",state:"published",updated:1526055860498,full_name:"NetflixAdsEng/wc-netflix-brand-logo",html_url:"https://github.com/NetflixAdsEng/wc-netflix-brand-logo",username:"GitHub",version:"2.0.4"},module.exports={id:"310ca301-271b-40cd-859b-21f9350869d5",name:"pk-component-utils",description:"JS include containing common web-component utilities.",type:"packages",context:"Default",state:"published",updated:1526055511e3,full_name:"NetflixAdsEng/pk-component-utils",html_url:"https://github.com/NetflixAdsEng/pk-component-utils",username:"GitHub",version:"3.0.0"},window.Utils=window.Utils||{},Utils.createStyle=function(t,e){var i=t+"-component-stylesheet",n=document.getElementById(i)||this.stylesheet;n||(n=document.createElement("style"),n.type="text/css",n.id=i,this.appendChild(n));for(var o=n.innerHTML,r=0;r<arguments.length-1;r+=2){var s=arguments[r+1],a=" ";Array.isArray(s)&&(!0===s[1]&&(a=""),s=s[0]);var l=s.replace(/\,\s+/g,",");o+=t+a,o+=l,o+=" { "+(arguments[r+2]||"")+" }\n"}n.innerHTML=o,this.stylesheet=n},window.Utils=window.Utils||{},Utils.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Utils.isiOS=/iPad|iPhone|iPod/.test(navigator.userAgent),Utils.isiOS9up=Utils.isiOS&&navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]>9,Utils.isiPad=/iPad/.test(navigator.userAgent),Utils.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),window.Utils=window.Utils||{},Utils.SvgIcon=function(t,e,i){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttributeNS(null,"d",e),n.setAttribute("data-original",e),void 0!=i&&n.setAttribute("fill",i),n.setAttribute("class",t||""),n},window.Utils=window.Utils||{},Utils.textFit=function(t,e){function i(t,e){return-1<(" "+t.className+" ").indexOf(" "+e+" ")}var n={alignVert:!1,alignHoriz:!1,multiLine:!1,detectMultiLine:!0,minFontSize:6,maxFontSize:80,reProcess:!0,widthOnly:!1,alignVertWithFlexbox:!1};e||(e={});var o,r={};for(o in n)e.hasOwnProperty(o)?r[o]=e[o]:r[o]=n[o];for("function"==typeof t.toArray&&(t=t.toArray()),n=Object.prototype.toString.call(t),"[object Array]"!==n&&"[object NodeList]"!==n&&"[object HTMLCollection]"!==n&&(t=[t]),n=0;n<t.length;n++)!function(t,e){if(!("object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?t instanceof HTMLElement:t&&"object"===(void 0===t?"undefined":_typeof(t))&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)||!e.reProcess&&t.getAttribute("textFitted"))return!1;e.reProcess||t.setAttribute("textFitted",1);var n,o=t.innerHTML,r=window.getComputedStyle(t,null),s=t.clientWidth-parseInt(r.getPropertyValue("padding-left"),10)-parseInt(r.getPropertyValue("padding-right"),10);r=window.getComputedStyle(t,null);var a=t.clientHeight-parseInt(r.getPropertyValue("padding-top"),10)-parseInt(r.getPropertyValue("padding-bottom"),10);if(!s||!e.widthOnly&&!a){if(e.widthOnly)throw Error("Set a static width on the target element "+t.outerHTML+" before using textFit!");throw Error("Set a static height and width on the target element "+t.outerHTML+" before using textFit!")}for(-1===o.indexOf("textFitted")?(r=document.createElement("span"),r.className="textFitted",r.style.display="inline-block",r.innerHTML=o,t.innerHTML="",t.appendChild(r)):(r=t.querySelector("span.textFitted"),i(r,"textFitAlignVert")&&(r.className=r.className.replace("textFitAlignVert",""),r.style.height="",t.className.replace("textFitAlignVertFlex",""))),e.alignHoriz&&(t.style["text-align"]="center",r.style["text-align"]="center"),o=e.multiLine,e.detectMultiLine&&!o&&r.scrollHeight>=2*parseInt(window.getComputedStyle(r)["font-size"],10)&&(o=!0),o||(t.style["white-space"]="nowrap"),o=e.minFontSize+1,n=e.maxFontSize+1;o<=n;){var l=parseInt((o+n)/2,10);r.style.fontSize=l+"px",r.scrollWidth<=s&&(e.widthOnly||r.scrollHeight<=a)?o=l+1:n=l-1}r.style.fontSize=l-1+"px",e.alignVert&&(document.getElementById("textFitStyleSheet")||(l=document.createElement("style"),l.type="text/css",l.id="textFitStyleSheet",l.innerHTML=".textFitAlignVert{position: absolute;top: 0; right: 0; bottom: 0; left: 0;margin: auto;display: flex;justify-content: center;flex-direction: column;}.textFitAlignVertFlex{display: flex;}.textFitAlignVertFlex .textFitAlignVert{position: static;}",document.body.appendChild(l)),l=r.scrollHeight,"static"===window.getComputedStyle(t).position&&(t.style.position="relative"),i(r,"textFitAlignVert")||(r.className+=" textFitAlignVert"),r.style.height=l+"px",e.alignVertWithFlexbox&&!i(t,"textFitAlignVertFlex")&&(t.className+=" textFitAlignVertFlex"))}(t[n],r)},"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;i<n;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}():function(t){if("Element"in t){var e="classList",i="prototype",n=t.Element[i],o=Object,r=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[i].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},c=function(t){for(var e=r.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],n=0,o=i.length;n<o;n++)this.push(i[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=c[i]=[],d=function(){return new c(this)};if(a[i]=Error[i],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",-1!==l(this,t)},u.add=function(){var t,e=arguments,i=0,n=e.length,o=!1;do{t=e[i]+"",-1===l(this,t)&&(this.push(t),o=!0)}while(++i<n);o&&this._updateClassName()},u.remove=function(){var t,e,i=arguments,n=0,o=i.length,r=!1;do{for(t=i[n]+"",e=l(this,t);-1!==e;)this.splice(e,1),r=!0,e=l(this,t)}while(++n<o);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var i=this.contains(t),n=i?!0!==e&&"remove":!1!==e&&"add";return n&&this[n](t),!0===e||!1===e?e:!i},u.toString=function(){return this.join(" ")},o.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{o.defineProperty(n,e,h)}catch(t){-2146823252===t.number&&(h.enumerable=!1,o.defineProperty(n,e,h))}}else o[i].__defineGetter__&&n.__defineGetter__(e,d)}}(self)),function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}(),function(t,e){"object"==_typeof(exports)&&void 0!==module?e():(__WEBPACK_AMD_DEFINE_FACTORY__=e,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(0,function(){function t(){}function e(t){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(t,this)}function i(t,i){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,e._immediateFn(function(){var e=1===t._state?i.onFulfilled:i.onRejected;if(null!==e){var r;try{r=e(t._value)}catch(t){return void o(i.promise,t)}n(i.promise,r)}else(1===t._state?n:o)(i.promise,t._value)})):t._deferreds.push(i)}function n(t,i){try{if(i===t)throw new TypeError("A promise cannot be resolved with itself.");if(i&&("object"==(void 0===i?"undefined":_typeof(i))||"function"==typeof i)){var n=i.then;if(i instanceof e)return t._state=3,t._value=i,void r(t);if("function"==typeof n)return void s(function(t,e){return function(){t.apply(e,arguments)}}(n,i),t)}t._state=1,t._value=i,r(t)}catch(e){o(t,e)}}function o(t,e){t._state=2,t._value=e,r(t)}function r(t){2===t._state&&0===t._deferreds.length&&e._immediateFn(function(){t._handled||e._unhandledRejectionFn(t._value)});for(var n=0,o=t._deferreds.length;o>n;n++)i(t,t._deferreds[n]);t._deferreds=null}function s(t,e){var i=!1;try{t(function(t){i||(i=!0,n(e,t))},function(t){i||(i=!0,o(e,t))})}catch(t){if(i)return;i=!0,o(e,t)}}var a=setTimeout;e.prototype.catch=function(t){return this.then(null,t)},e.prototype.then=function(e,n){var o=new this.constructor(t);return i(this,new function(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}(e,n,o)),o},e.prototype.finally=function(t){var e=this.constructor;return this.then(function(i){return e.resolve(t()).then(function(){return i})},function(i){return e.resolve(t()).then(function(){return e.reject(i)})})},e.all=function(t){return new e(function(e,i){function n(t,s){try{if(s&&("object"==(void 0===s?"undefined":_typeof(s))||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){n(t,e)},i)}o[t]=s,0==--r&&e(o)}catch(t){i(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);for(var r=o.length,s=0;o.length>s;s++)n(s,o[s])})},e.resolve=function(t){return t&&"object"==(void 0===t?"undefined":_typeof(t))&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,i){i(t)})},e.race=function(t){return new e(function(e,i){for(var n=0,o=t.length;o>n;n++)t[n].then(e,i)})},e._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){a(t,0)},e._unhandledRejectionFn=function(t){void 0!==console&&console};var l=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==l)return l;throw Error("unable to locate global object")}();l.Promise||(l.Promise=e)}),function(){function style(){var t="uc-"+(1e6*Math.random()).toFixed(0);Utils.createStyle.call(this,COMPONENT_NAME+"."+t,".button","will-change: transform;cursor: pointer;overflow: hidden;text-align: center;font-size:"+this.data.size+"px; font-family: "+this.data.font,"*","box-sizing: border-box;",".button .fill","will-change: transform;width:100%;height:100%;transform-origin:top left;-webkit-transform-origin:top left;transform: scale(0, 1);-webkit-transform: scale(0, 1); transition: transform .4s cubic-bezier(0.19, 1, 0.22, 1);",".button .arrow","will-change: transform;position:absolute;text-align: right;top:50%;left:auto;right:auto;width:100%;font-size:160% !important;-webkit-transform: translate(0%, -50%);transform: translate(0%, -50%);",".button .arrow svg","position:absolute;right:4%;left:auto;top:0;",".button .copy","will-change: transform;transform-origin: 0 0;white-space:nowrap;letter-spacing:1.1px;padding:2% 4%;transition: color .4s cubic-bezier(0.19, 1, 0.22, 1);color:"+this.data.color[1],".button .border","-webkit-box-sizing: border-box;box-sizing: border-box;position: absolute;top: 0;left: 0;width:100%;height:100%;border:solid "+this.borderSize+"px "+this.data.color[0],"div","position: absolute;top: 0;left: 0;"),Utils.isMobile||Utils.createStyle.call(this,COMPONENT_NAME+"."+t,".button:hover .bgImageHover","width:100% !important;",".button.hover .bgImageHover","width:100% !important;",".button:hover .fill","transform: scale(1, 1); -webkit-transform: scale(1, 1);",".button.hover .fill","transform: scale(1, 1); -webkit-transform: scale(1, 1);",".button:hover .arrow","color:"+this.data.color[0],".button.hover .arrow","color:"+this.data.color[0],".button:hover .copy","color:"+this.data.color[0],".button.hover .copy","color:"+this.data.color[0],".button.isArrow:hover .copy","color:"+this.data.color[0]),this.className+=" "+PREFIX+" "+t,this.style.position="absolute",this.button.style.backgroundColor=this.data.color[0],this.fill.style.backgroundColor=this.data.color[1]}var COMPONENT_NAME="netflix-cta",PREFIX="mm-component",component=Object.create(HTMLElement.prototype,{createdCallback:{value:function(){this._attached=!1,this._resizeQueued=!1,this.button=document.createElement("div"),this.button.className="button",this.fill=document.createElement("div"),this.fill.className="fill",this.copy=document.createElement("div"),this.copy.className="copy",this.arrow=document.createElement("div"),this.arrow.className="arrow",this.border=document.createElement("div"),this.border.className="border"},enumerable:!0},detachedCallback:{value:function(){this._attached=!1}},attachedCallback:{value:function value(){if(this._attached=!0,this._hasInited)return void(this._resizeQueued&&this.resize());this._hasInited=!0,this.data={},this.data.color=[this.getAttribute("color-1")||"#e50914",this.getAttribute("color-2")||"#ffffff"],this.data.size=parseInt(this.getAttribute("font-size"),10)||null,this.data.font=(this.getAttribute("font")||"Netflix Sans")+", Arial, sans-serif",this.data.text=this.getAttribute("text");var bgImg=this.getAttribute("background-image");if(bgImg){this.bgImgContainer=document.createElement("div"),this.bgImgContainer.className="bgImage";var img=new Image;img.src=bgImg,this.bgImgContainer.appendChild(img),this.button.appendChild(this.bgImgContainer),this.bgImgContainer.setAttribute("style","position: absolute; top:0;left:0;")}this.appendChild(this.button),this.button.appendChild(this.fill);var bgImgHover=this.getAttribute("background-image-hover");if(bgImgHover){this.bgImgContainerHover=document.createElement("div"),this.bgImgContainerHover.className="bgImageHover";var imgHover=new Image;imgHover.src=bgImgHover,this.bgImgContainerHover.appendChild(imgHover),this.button.appendChild(this.bgImgContainerHover),this.bgImgContainerHover.setAttribute("style","position: absolute; top:0;left:0;width:0%;overflow:hidden;height:"+this.height+"px; transition: width .4s cubic-bezier(0.19, 1, 0.22, 1);"),this.fill.setAttribute("style","display:none;")}this.button.appendChild(this.copy),this.hasArrow=this.hasAttribute("arrow"),this.hasBorder=this.hasAttribute("border"),this.borderSize=this.getAttribute("border")||1,this.hasArrow&&(this.button.appendChild(this.arrow),this.button.className+=" isArrow"),this.hasBorder&&this.button.appendChild(this.border),style.call(this),this.button.addEventListener("click",function(){this.click&&this.click();var t=document.createEvent("CustomEvent");t.initCustomEvent("cta-click",!0,!0,"Netflix CTA Click"),this.dispatchEvent(t)}.bind(this)),this.button.addEventListener("mouseover",function(t){this.mouseover.call(this)}.bind(this)),this.button.addEventListener("mouseout",function(t){this.mouseout.call(this)}.bind(this));var cta="WATCH NOW",MonetComponent=document.querySelector("monet-integrator");MonetComponent?(MonetComponent.register(this),MonetComponent.getMonetData().then(function(data){var key=this.getAttribute("data-dynamic-key")||"CTA",d=key;1===d.split(".").length&&(d='rootAssets["text.'+d+'"].text');try{cta=eval("data."+d);var locale=Monet.getComponentLocale("text."+key).substr(0,2);this.copy.classList.add(locale),"ar"!=locale&&"he"!=locale||this.setAttribute("rtl",!0),this.text(cta),this.dispatchEvent(new CustomEvent("ready"))}catch(e){Monet.logEvent("MONET_DATA_ERROR",{details:"Netflix CTA Component error; Could not find data in rootAssets: text."+d,stack:e}),MonetComponent.getBackupMonetData().then(function(backupData){1===d.split(".").length&&(d='rootAssets["text.'+d+'"].text'),cta=eval("backupData."+d);var locale=Monet.getComponentLocale("text."+key).substr(0,2);this.copy.classList.add(locale),"ar"!=locale&&"he"!=locale||this.setAttribute("rtl",!0),this.text(cta),this.dispatchEvent(new CustomEvent("ready"))}.bind(this),function(t){Monet.logEvent("MONET_DATA_ERROR",{details:"Failed to load backup Monet data",stack:t})})}}.bind(this),function(t){Monet.logEvent("MONET_DATA_ERROR",{details:"Failed to load backup Monet data",stack:t})})):this.text(cta)},enumerable:!0},attributeChangedCallback:{value:function(){this._attached&&("font-size"===arguments[0]&&(this.data.size=parseInt(arguments[2],10)||null),this.resize())},enumerable:!0},text:{value:function(t){this.copy.innerHTML=t||this.copy.innerHTML,this.resize()}},resize:{value:function(t,e){if(!this._attached)return void(this._resizeQueued=!0);this._resizeQueued=!1,this.rtl=this.getAttribute("rtl"),this.rtl?(TweenMax.set(this.copy,{css:{right:0,left:"auto"}}),this.arrow.setAttribute("style","position:absolute;text-align: left;top:50%;left:auto;right:auto;width:100%;font-size:160% !important;-webkit-transform: scale(-1,1) translate(0%, -50%);transform: scale(-1,1) translate(0%, -50%);")):(TweenMax.set(this.copy,{css:{right:"auto",left:0}}),this.arrow.setAttribute("style","position:absolute;text-align: right;top:50%;left:auto;right:auto;width:100%;font-size:160% !important;-webkit-transform: translate(0%, -50%);transform: translate(0%, -50%);"));var i=t||this.getAttribute("width")||this.offsetWidth||109,n=e||this.getAttribute("height")||this.offsetHeight||28;if(this.copy.style.width=this.button.style.width=this.style.width=i+"px",this.copy.style.height=this.button.style.height=this.style.height=n+"px",this.height=n,this._attached){this.arrow.innerHTML="";var o=Math.floor(this.height/3.3);TweenMax.set(this.arrow,{height:o});var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("width",o+"px"),r.setAttribute("height",o+"px"),r.line=new Utils.SvgIcon("line1","M0,0 l"+o/2+","+o/2+"l-"+o/2+","+o/2),r.line.setAttribute("fill","none"),r.line.setAttribute("stroke",this.data.color[1]||0),r.line.setAttribute("stroke-width",2),r.appendChild(r.line),this.arrow.appendChild(r)}if(this.hasArrow){var s=.04*i;this.copy.style.width=i-(s+o)+"px"}Utils.textFit(this.copy,{detectMultiLine:!0,alignHoriz:!0,alignVert:!0,minFontSize:this.data.size||1,maxFontSize:this.data.size||12})}},mouseover:{value:function(){Utils.isMobile||this.button.classList.add("hover"),this.arrow.querySelector("svg").line.setAttribute("stroke",this.data.color[0])}},mouseout:{value:function(){Utils.isMobile||this.button.classList.remove("hover"),this.arrow.querySelector("svg").line.setAttribute("stroke",this.data.color[1])}},preview:{value:function(){this.setAttribute("arrow",""),this.setAttribute("border",""),this.setAttribute("size",12)}}});document.createElement(COMPONENT_NAME).constructor.__proto__!==window.HTMLElement&&document.registerElement(COMPONENT_NAME,{prototype:component})}(),module.exports={id:"74ac09b5-4f74-4b37-b4d1-7955ed4994fb",name:"wc-netflix-cta",description:"CTA button",type:"web_components",context:"Default",state:"published",updated:1526055988818,full_name:"NetflixAdsEng/wc-netflix-cta",html_url:"https://github.com/NetflixAdsEng/wc-netflix-cta",username:"GitHub",version:"2.0.3"},module.exports={id:"43232d9b-3b05-4471-9dfe-d0f9815c0e0a",name:"wc-netflix-text",description:"A simple text component to allow dynamic binding",type:"web_components",context:"Default",state:"published",updated:1526057237266,full_name:"NetflixAdsEng/wc-netflix-text",html_url:"https://github.com/NetflixAdsEng/wc-netflix-text",username:"GitHub",version:"2.0.3"},function(){function safeBRReplace(t){var e=document.createDocumentFragment();return e.textContent=t.replace(/<br\s*\/?>/gm,"\n"),e.textContent.replace(/\n/gm,"<br>")}if(document.registerElement){var COMPONENT_NAME="netflix-text",component=Object.create(HTMLElement.prototype,{createdCallback:{value:function(){var t=document.createElement("span");this.appendChild(t)}},attachedCallback:{value:function value(){var dom=this,textSpan=this.children[0],MonetComponent=document.querySelector("monet-integrator");MonetComponent&&(MonetComponent.register(this),MonetComponent.getMonetData().then(function(data){var bindSrc=dom.getAttribute("data-dynamic-key");1==bindSrc.split(".").length&&(bindSrc='rootAssets["text.'+bindSrc+'"].text');try{var dynamicText=eval("data."+bindSrc);dynamicText&&(textSpan.innerHTML=safeBRReplace(dynamicText),textSpan.classList.add(Monet.getComponentLocale("text."+dom.getAttribute("data-dynamic-key")).substr(0,2))),dom.dispatchEvent(new CustomEvent("ready"))}catch(e){MonetComponent.getBackupMonetData().then(function(backupData){if(backupData){var dynamicText=eval("backupData."+bindSrc);textSpan.innerHTML=safeBRReplace(dynamicText),textSpan.classList.add(Monet.getComponentLocale("text."+dom.getAttribute("data-dynamic-key")).substr(0,2))}dom.dispatchEvent(new CustomEvent("ready"))},function(t){})}}))}},preview:{value:function(){this.children[0].innerHTML="This is a preview of the text component.",this.style.height="40px",this.style.display="inline-block"}}});document.createElement(COMPONENT_NAME).constructor.__proto__!==window.HTMLElement&&document.registerElement(COMPONENT_NAME,{prototype:component})}}(),module.exports={id:"1bf7de1b-e68a-454b-978e-1fda0c6352a9",name:"wc-netflix-img",description:"A lightweight component for images that allows dynamic binding for the source",type:"web_components",context:"Default",state:"published",updated:1526063665335,full_name:"NetflixAdsEng/wc-netflix-img",html_url:"https://github.com/NetflixAdsEng/wc-netflix-img",username:"GitHub",version:"3.0.0"},function(){if(document.registerElement){var t=Object.create(HTMLElement.prototype,{createdCallback:{value:function(){var t=document.createElement("img");this.appendChild(t)}},attachedCallback:{value:function(){var t=this,e=this.children[0],i=t.getAttribute("height"),n=t.getAttribute("width");n&&e.setAttribute("width",n),i&&e.setAttribute("height",i);var o=document.querySelector("monet-integrator");o&&(o.register(this),o.getMonetData().then(function(i){var n,r=t.getAttribute("data-dynamic-key"),s=t.getAttribute("id");try{/\.(jpe?g|png|gif|svg)$/i.test(r)||/\.(nflximg.net)/i.test(r)?(n=r,e.setAttribute("src",r)):(n=i.rootAssets["image."+r].url,e.setAttribute("src",n))}catch(i){o.getBackupMonetData().then(function(i){i.rootAssets["image."+r]?(n=i.rootAssets["image."+r].url,e.setAttribute("src",n)):t.dispatchEvent(new CustomEvent("ready"))},function(t){})}s&&e.setAttribute("id",s+"-img")})),e.onload=e.onerror=function(e){t.dispatchEvent(new CustomEvent("ready"))}}},preview:{value:function(){this.children[0].setAttribute("src","//ae.nflximg.net/monet/img/c20/netflix_placement.svg"),this.setAttribute("width",300),this.setAttribute("height",300)}}});document.createElement("netflix-img").constructor.__proto__!==window.HTMLElement&&document.registerElement("netflix-img",{prototype:t})}}();var FullScreen=new function(){var t=this;t.isFullScreen=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},t.enter=function(e){t.isFullScreen()||(e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen())},t.exit=function(){t.isFullScreen()&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}},MonetUtils=function t(){_classCallCheck(this,t)};MonetUtils._monetTypes={text:"text",number:"value",image:"url",video:"url",url:"url",bool:"value"},MonetUtils.setData=function(t){var e=this,i=t.getMonetData();return i.then(function(t){e._data=t}),i},MonetUtils.getDataByKey=function(t){var e,i,n=this;for(var o in n._monetTypes)if(n._data.rootAssets[o+"."+t]){i=o,e=n._data.rootAssets[o+"."+t];break}return e[n._monetTypes[i]]};var Device=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"orientation",get:function(){return window.innerWidth>window.innerHeight?"landscape":"portrait"}},{key:"dimensions",get:function(){return{width:window.innerWidth,height:window.innerHeight}}}]),t}();Device.pixelRatio=window.devicePixelRatio||"unknown",Device.init=function(){var t=this;t.agentString=navigator.userAgent,t._getType(),t._getBrandAndOS(),t._getBrowser(),"desktop"!==t.type&&"windows"===t.os&&t.osVersion<=8&&"ie"===t.browser&&t.browserVersion<12&&(t.type="desktop");var e=Array(70).join("-"),i="\n"+e;for(var n in t)t.hasOwnProperty(n)&&"function"!=typeof t[n]&&(i+="\n"+n+": "+t[n]);i+="\n"+e},Device._getType=function(){var t=this,e=/(android|mobile)/gi.exec(t.agentString),i=/(tablet|touch)/gi.exec(t.agentString),n=/(ipad)/gi.exec(t.agentString);t.type="desktop",e&&(t.type="mobile"),i&&(t.type="tablet"),n&&(t.type="tablet")},Device._getBrandAndOS=function(){var t=this,e=t.agentString.match(/ip(hone|od|ad)|mac/gi);if(e){t.brand="apple",t.product=e[0].toLowerCase();var i=/(OS\s)(\X\s|)([\d\.\_]+)/gi.exec(t.agentString);return t.os=""==i[2]?"ios":"osx",void(t.osVersion=i[3].replace(/\_/g,"."))}var n=/(android)\/?\s*([0-9\.]+)/gi.exec(t.agentString);if(n)return t.brand=t.product=t.os=n[1].toLowerCase(),t._checkForSpecial("product",["pixel 2"],t.agentString.split("(")[1].split(")")[0]),void(t.osVersion=n[2]);var o=/(windows\snt\s|windows\sphone)\/?\s*([0-9\.]+)/gi.exec(t.agentString);if(o){switch(t.brand="microsoft",t.os="windows",o[2]){case"5.2":t.osVersion="xp";break;case"6.0":t.osVersion="vista";break;case"6.1":t.osVersion="7";break;case"6.2":t.osVersion="8";break;case"6.3":t.osVersion="8.1";break;case"10.0":t.osVersion="10";break;default:t.osVersion=o[2]}return t.product=o[1].toLowerCase(),void(t.product.match(/\snt/i)&&(t.product="pc"))}t.agentString.match(/(blackberry|bb10|playbook)/i)&&(t.brand=t.product=t.os="blackberry",t.osVersion=/(version)\/?\s*([0-9\.]+)/gi.exec(t.agentString)[2])},Device._getBrowser=function(){var t=this,e=/(edge(?=\/))\/?\s*([0-9\.]+)/i.exec(t.agentString);if(e||(e=t.agentString.match(/(fban|fbav|opera|chrome|crios|safari|firefox|msie|trident(?=\/))\/?\s*([0-9\.]+)/i)),!e||e.length<3){switch(t.os){case"ios":t.browser="safari";break;case"windows":t.browser="trident";break;default:t.browser="chrome"}return void(t.browserVersion="os-default")}switch(t.browser=e[1].toLowerCase(),t.browserVersion=e[2],t.browser){case"trident":var i=/\brv:+(\d+)/g.exec(t.agentString);i&&(t.browserVersion=i[1]);case"msie":t.browser="ie";break;case"crios":t.browser="chrome";break;case"safari":var i=t.agentString.match(/\sversion\/([0-9\.]+)\s/i);i&&(t.browserVersion=i[1]);break;case"chrome":var i=t.agentString.match(/\b(OPR)\/([0-9\.]+)/i);i&&(t.browser="opera",t.browserVersion=i[2])}},Device._checkForSpecial=function(t,e,i){for(var n,o=this,r=0;r<e.length;r++)if(n=e[r].toLowerCase(),i.match(new RegExp(n,"i"))){o[t]=n;break}};for(var UIDiv=function t(e,i){_classCallCheck(this,t),injectStylesheet("RED_uiElement",".ui-elem","position:absolute;"),i=i||"div";var n=document.createElement(i);if(addClass$1(n,"ui-elem"),e=e||{},e.id&&(n.id=e.id),setCss(n,e.css),e.target){get$1(e.target).appendChild(n)}return Object.defineProperty(n,"parent",{get:function(){return n.parentNode}}),n.toString=function(){return"[object UIDiv]"},n},_kills={},_eventLooping=!1,Event=createEvent,stop=stopBubble,stopped=isStopped,OVER="mouseover",OUT="mouseout",CLICK="onSelect",GestureBase=function(){function t(e){_classCallCheck(this,t);var i=this;i.elem=e,i.hasActiveChildren=!0,i.debug=!1,i.eventList=[],i._isDragEnabled=!1,i._isDragging=!1,i._give=2,i._oX=0,i._oY=0,i._p1X=0,i._p1Y=0,i._p2X=0,i._p2Y=0,i._sX=0,i._sY=0,i._vX=0,i._vY=0,i._cursor="mouse",i._start="down",i._end="up",i.init()}return t.prototype.init=function(){var t=this;t.debug,t._handleTouchStart=t._handleTouchStart.bind(t),t._handleDown=t._handleDown.bind(t),t._handleDrag=t._handleDrag.bind(t),t._handleUp=t._handleUp.bind(t),t._elemAdd=t.elem.addEventListener.bind(t.elem),t._elemRemove=t.elem.removeEventListener.bind(t.elem),t._reset()},t.prototype.register=function(t,e){var i=this;i.debug,i.eventList.push(t),i._checkDragEnabled(),i._elemAdd(t,e)},t.prototype.unregister=function(t,e){var i=this;i.debug;var n=i.eventList.indexOf(t);n>=0&&i.eventList.splice(n,1),i._checkDragEnabled(),i._elemRemove(t,e)},t.prototype._reset=function(){var t=this;t._cursor="mouse",t._start="down",t._end="up",t.elem.addEventListener("touchstart",t._handleTouchStart),"ios"!=Device.os&&t.elem.addEventListener("mousedown",t._handleDown)},t.prototype._checkDragEnabled=function(){var t=this,e=t.eventList.join("").indexOf("onDrag");t._isDragEnabled=e>-1},t.prototype._getEventScope=function(t){return t.changedTouches?t.changedTouches[0]:t},t.prototype._add=function(t,e){window.addEventListener(this._cursor+t,e)},t.prototype._remove=function(t,e){window.removeEventListener(this._cursor+t,e)},t.prototype._handleDown=function(t){var e=this;e.debug,startPoint(),e.elem.removeEventListener("touchstart",e._handleTouchStart),"ios"!=Device.os&&e.elem.removeEventListener("mousedown",e._handleDown),e._isDragging=!1,e._add(e._end,e._handleUp),e._add("move",e._handleDrag);var i=e._getEventScope(t),n=i.pageX,o=i.pageY,r=e.elem.getBoundingClientRect(),s=n-r.left,a=o-r.top,l=e.elem.x||getCss(e.elem,"x"),c=e.elem.y||getCss(e.elem,"y"),u=r.left-l,d=r.top-c;e._oX=u+s,e._oY=d+a;var h=n-e._oX,f=o-e._oY;e._sX=e._p1X=e._p2X=n,e._sY=e._p1Y=e._p2Y=o,function(t){if(!stopped(t)){var i=new Event(t,n,o,s,a,h,f);e.debug,e.elem.dispatchEvent(i)}}("onPress")},t.prototype._handleUp=function(t,e){function i(t){if(!stopped(t)){var e=new Event(t,r,s,l,c,u,d,0,0,n._vX,n._vY);n.debug,n.elem.dispatchEvent(e)}}var n=this;n.debug,n._remove(n._end,n._handleUp),n._remove("move",n._handleDrag);var o=n._getEventScope(t),r=o.pageX,s=o.pageY,a=n.elem.getBoundingClientRect(),l=r-a.left,c=s-a.top,u=r-n._oX,d=s-n._oY;!0!==e&&i("onRelease");var h=a.top+window.pageYOffset,f=h+a.height,p=a.left+window.pageXOffset,m=p+a.width;n._isDragging?n._isDragEnabled&&n._dragEndOrSwipe("onDragStop"):r>p&&r<m&&s>h&&s<f&&i("onSelect"),n._isDragging&&n._dragEndOrSwipe("onSwipe"),n._reset(),t.preventDefault(),endPoint()},t.prototype._handleTouchStart=function(t){var e=this;e.debug,e._cursor="touch",e._start="start",e._end="end",e._handleDown(t)},t.prototype._handleDrag=function(t){function e(t){if(!stopped(t)){var e=new Event(t,o,r,f,p,u,d,i._p1X-i._sX,i._p1Y-i._sY,i._vX,i._vY);i.debug,i.elem.dispatchEvent(e)}}var i=this;i.debug;var n=i._getEventScope(t),o=n.pageX,r=n.pageY,s=o-i._p1X,a=o-i._p2X;i._vX=(a-s)/2+s;var l=r-i._p1Y,c=r-i._p2Y;i._vY=(c-l)/2+l;var u=o-i._oX,d=r-i._oY,h=i.elem.getBoundingClientRect(),f=o-h.left,p=r-h.top;i._isDragging?i._isDragEnabled&&e("onDrag"):(Math.abs(i._sX-o)>i._give||Math.abs(i._sY-r)>i._give)&&(i._isDragging=!0,i._isDragEnabled&&e("onDragStart")),i._p2X=i._p1X,i._p1X=o,i._p2Y=i._p1Y,i._p1Y=r},t.prototype._dragEndOrSwipe=function(t){var e=this;if(e.debug,!stopped(name)){var i=e.elem.getBoundingClientRect(),n=new Event(t,e._p1X,e._p1Y,e._p1X-i.left,e._p1Y-i.top,e._p1X-e._oX,e._p1Y-e._oY,e._p2X-e._sX,e._p2Y-e._sY,e._vX,e._vY);e.debug,e.elem.dispatchEvent(n)}},t}(),Gesture$1=new function(){function t(t){for(var i=null,n=0;n<a.length;n++)if(a[n].elem===t){i=a[n];break}return i||(i=e(t)),i}function e(t){var e=new GestureBase(t);return a.push(e),e}function i(e,i){var n=t(e);if(n.hasActiveChildren!=i){n.hasActiveChildren=i;for(var o=n.elem.getElementsByTagName("*"),r=0;r<o.length;r++)o[r].parentNode==e&&(i?s.enable(o[r]):s.disable(o[r]))}}function n(t,e,i,o){t.style.visibility="hidden",o.push(t);for(var r=document.elementFromPoint(e,i),s=0;s<l.length;s++)if(l[s].elem==r)return n(r,e,i,o);return r}function o(t){for(var e=[],i=n(t.target,t.clientX,t.clientY,e),o=0;o<e.length;o++)e[o].style.visibility="visible";return e=[],t.stopImmediatePropagation(),i}function r(t){var e=o(t),i=document.createEvent("HTMLEvents");i.initEvent(t.type,!0,!1),e.dispatchEvent(i)}var s=this,a=[],l=[],c=void 0!=document.createEventObject;s._kills={},s.add=s.addEventListener=function(e,i,n){t(e).register(i,n),setCss(e,"cursor","pointer"),setCss(e,"pointer-events","auto")},s.remove=s.removeEventListener=function(e,i,n){var o=t(e);o&&(o.unregister(i,n),o.eventList.length<=0&&setCss(e,"cursor","auto"))},s.disable=function(e){var i=t(e);l.push(i),c?(i.register(GestureEvent.CLICK,r),setCss(e,"cursor","auto")):setCss(e,"pointer-events","none")},s.disableChildren=function(t){i(t,!1)},s.enable=function(e){for(var i=t(e),n=0;n<l.length;n++)if(i==l[n]){c?i.unregister(GestureEvent.CLICK,r):(setCss(e,"pointer-events","auto"),setCss(e,"cursor","pointer"));break}},s.enableChildren=function(t){i(t,!0)}},_componentEnabled,_sliderUpdate,UIEvent={ENABLED:"uiComponentEnabled",RESIZE:"uiResize",SLIDER_UPDATE:"uiSliderUpdate",get componentEnabled(){return _componentEnabled||(_componentEnabled=new CustomEvent("uiComponentEnabled")),_componentEnabled},get sliderUpdate(){return _sliderUpdate||(_sliderUpdate=new CustomEvent("uiSliderUpdate")),_sliderUpdate}},_isiOS6=/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent),_prefix=["webkit","moz"],_i2=0;!window.requestAnimationFrame&&_i2<_prefix.length;_i2++)window.requestAnimationFrame=window[_prefix[_i2]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[_prefix[_i2]+"CancelAnimationFrame"]||window[_prefix[_i2]+"CancelRequestAnimationFrame"];window.requestAnimationFrame&&window.cancelAnimationFrame&&!_isiOS6||(window.requestAnimationFrame=function(t){return setTimeout(t,17)},window.cancelAnimationFrame=clearTimeout);var UIBorder=function t(e){_classCallCheck(this,t);var i,n,o=new UIDiv(e);return addClass$1(o,"ui-border"),Object.defineProperties(o,{size:{get:function(){return i},set:function(t){void 0!=t&&i!=t&&(i=t,setCss(o,{borderWidth:i}))}},color:{get:function(){return n},set:function(t){t&&n!=t&&(n=t,setCss(o,{borderColor:n}))}}}),o.toString=function(){return"[object UIBorder]"},Gesture$1.disable(o),o.color=e.color,o.size=e.size,o},UIComponent=function(t){function e(i,n){var o;_classCallCheck(this,e);var r=!0,s=!0,a=n||"div";i=i||{},n="svg"==a?"div":n;var l=_possibleConstructorReturn(this,t.call(this,i,n)),c=l;return c._align=i.align,Object.defineProperties(c,{x:{get:function(){return getCss(c,"x")},set:function(t){setCss(c,{x:t})}},y:{get:function(){return getCss(c,"y")},set:function(t){setCss(c,{y:t})}},enabled:{get:function(){return r},set:function(t){r=t,c.dispatchEvent(UIEvent.componentEnabled)}},showing:{get:function(){return s},set:function(){}}}),"canvas"!=a&&"svg"!=a&&Object.defineProperties(c,{width:{get:function(){return c.offsetWidth},set:function(t){setCss(c,{width:t});var e=new CustomEvent(UIEvent.RESIZE);e.direction="width",c.dispatchEvent(e)}},height:{get:function(){return c.offsetHeight},set:function(t){setCss(c,{height:t});var e=new CustomEvent(UIEvent.RESIZE);e.direction="height",c.dispatchEvent(e)}}}),c.hide=function(){c.style.display="none",s=!1},c.show=function(){try{c.style.removeProperty("display")}catch(t){c.style.display=null}s=!0},c.setCss=function(t){setCss(c,t)},c.addChild=function(t){var e=get$1(t);c.appendChild(e),t._align&&set$2(t,t._align)},c.inspect=function(){for(var t={},e=Object.getOwnPropertyNames(c),i=0;i<e.length;i++){var n=c[e[i]];t[e[i]]=n}},c.toString=function(){return"[object UIComponent]"},c._initAlign=function(t){var e=t?1==t:void 0!=i.target;i.align&&e&&set$2(c,i.align)},c.enabled=!0,c._initAlign(),o=c,_possibleConstructorReturn(l,o)}return _inherits(e,t),e}(UIDiv),Matrix2D=function(){var t=this;t.identity=new Float32Array([1,0,0,0,1,0]),t.data=new Float32Array(t.identity)};Matrix2D.prototype={clear:function(){var t=this;t.data=new Float32Array(t.identity)},rotate:function(t){var e=this,i=new Float32Array(e.identity),n=Math.cos(t).toFixed(15),o=Math.sin(t).toFixed(15);return i[0]=n,i[1]=o,i[3]=-o,i[4]=n,e.multiply(i,!1),e},scale:function(t,e){var i=this,n=new Float32Array(i.identity);return n[0]=t,n[4]=e,i.multiply(n,!1),i},skew:function(t,e){var i=this,n=new Float32Array(i.identity);return n[1]=Math.tan(t),n[3]=Math.tan(e),i.multiply(n),i},translate:function(t,e){var i=this,n=new Float32Array(i.identity);return n[2]=t||0,n[5]=e||0,i.multiply(n,!0),i},multiply:function(t,e){for(var i=this,n=new Float32Array(i.data),o=e?t:n,r=e?n:t,s=0;s<6;s++){var a=3*Math.floor(s/3),l=s%3;i.data[s]=o[a]*r[l]+o[a+1]*r[l+3]}i.data[2]+=o[2],i.data[5]+=o[5]},setFromCss:function(t){var e=t.match(/\(([^\)]+)\)/)[1].replace(/\s/g,"").split(",").map(Number);this.data=[e[0],e[1],e[4],e[2],e[3],e[5]]},getCss:function(){var t=this;return"matrix("+t.data[0]+","+t.data[1]+","+t.data[3]+","+t.data[4]+","+t.data[2]+","+t.data[5]+")"}};var CssManager=function t(){_classCallCheck(this,t)};CssManager.debug_level1=!1,CssManager.debug_level2=!1,CssManager.filter=void 0,CssManager.debug_element=void 0,CssManager.debug_css_list=void 0,CssManager.init=function(){this.generateBrowserKeyDictionary()},CssManager.setDebugLevel=function(t){var e=this;switch(parseInt(t)){case 1:e.debug_level1=!0,e.debug_level2=!1;break;case 2:e.debug_level1=!0,e.debug_level2=!0;break;default:e.debug_level1=!1,e.debug_level2=!1}},CssManager.setDebugFilter=function(t){var e=this;e.filter=t,e.debug_level1=!0},CssManager.ifDebug=function(t){var e=this;return e.filter?!(!e.passDebugFilter()||!e[t])||void 0:e[t]},CssManager.passDebugFilter=function(){var t=this;if(t.debug_element&&t.debug_element.id.indexOf(t.filter)>-1)return!0;if(t.debug_css_list)for(var e in t.debug_css_list){if(e.indexOf(t.filter)>-1)return!0;if(String(t.debug_css_list[e]).indexOf(t.filter)>-1)return!0}return!1},CssManager.generateBrowserKeyDictionary=function(){var t=this;t.deviceKeyDict={};var e=document.createElement("div").style;for(var i in e){var n=t.getPrefix(i),o=t.standardizeKey(i);switch(Device.browser){case"safari":"webkit"==n?t.deviceKeyDict[o]=t.prependPrefix("webkit",o):t.prependPrefix("webkit",o)in e||(t.deviceKeyDict[o]=o);break;case"firefox":var r=t.prependPrefix("Moz",o),s=t.prependPrefix("Webkit",o);o in e?t.deviceKeyDict[o]=o:"moz"==n?t.camelateKey("webkit-"+o)in e&&(t.deviceKeyDict[o]=r):"webkit"==n&&(r in e||(t.deviceKeyDict[o]=s));break;case"chrome":case"ie":default:o in e?t.deviceKeyDict[o]=o:n&&(t.deviceKeyDict[o]=t.prependPrefix(n,o))}}},CssManager.apply=function(t,e){var i=this;i.debug_element=t,i.debug_css_list=e,i.ifDebug("debug_level1");var n={};for(var o in e)o.match(/^transform\(/)?n[o]=e[o]:(i.ifDebug("debug_level1"),t.style[i.getDeviceKey(o)]=e[o]);i.applyTransforms(t,n),i.ifDebug("debug_level1"),i.debug_element=null,i.debug_css_list=null},CssManager.conformCssObject=function(t,e){var i=this;i.debug_element=e,i.ifDebug("debug_level1");var n={};if(t)for(var o in t){i.ifDebug("debug_level2");var r=i.conformKeyValue(o,t[o]);for(var s in r)i.ifDebug("debug_level2"),n[r[s][0]]=r[s][1]}return i.debug_element=null,n},CssManager.conformCssString=function(t,e){var i=this;i.debug_element=e,i.ifDebug("debug_level1");var n={};if(t){var o=t.split(/\s*;\s*/);for(var r in o)if(o[r]){var s=o[r].split(/:(.+)?/);i.ifDebug("debug_level2");var a=i.conformKeyValue(s[0],s[1]);for(var l in a)i.ifDebug("debug_level2"),n[a[l][0]]=a[l][1]}}return i.debug_element=null,n},CssManager.conformCssKeyValue=function(t,e){var i=this;i.ifDebug("debug_level1");var n={};return n[t]=e,i.conformCssObject(n)},CssManager.applyTransforms=function(t,e){var i=this;i.ifDebug("debug_level1");var n=new Matrix2D,o=t.style[i.getDeviceKey("transform")],r=o.match(/matrix[^\)]+\)/);if(r&&(n.setFromCss(r[0]),i.ifDebug("debug_level2")),"transforms"in t)var s=t.transforms;else var s={tx:0,ty:0,rz:0,sx:1,sy:1};var a={};for(var l in e){a[l.match(/\(\s([^\s]+)/)[1]]=e[l]}if(void 0!=a.tx&&(n.data[2]=0),void 0!=a.ty&&(n.data[5]=0),void 0!=a.rz){var c=-s.rz;n.rotate(c*(Math.PI/180)),n.rotate(a.rz*(Math.PI/180)),s.rz=a.rz}if(void 0!=a.sx){var c=1/s.sx;n.scale(c,1),n.scale(a.sx,1),s.sx=a.sx}if(void 0!=a.sy){var c=1/s.sy;n.scale(1,c),n.scale(1,a.sy),s.sy=a.sy}void 0!=a.tx&&(n.translate(a.tx,0),s.tx=a.tx),void 0!=a.ty&&(n.translate(0,a.ty),s.ty=a.ty),t.transforms=s,i.ifDebug("debug_level2"),t.style[i.getDeviceKey("transform")]=n.getCss()},CssManager.conformKeyValue=function(t,e){var i=this;t=String(t).trim(),e=String(e).trim();var n=i.standardizeKey(t);return i.conformValue(n,e)},CssManager.hasPrefix=function(t){var e=this;return t.search(e.matchPrefixRegex())>-1},CssManager.getPrefix=function(t){var e=this,i=t.match(e.matchPrefixRegex());return i?i[1].replace(/-/g,"").toLowerCase():null},CssManager.stripPrefix=function(t){var e=this,i=t.replace(e.matchPrefixRegex(),"");return i.charAt(0).toLowerCase()+i.slice(1)},CssManager.getDeviceKey=function(t){var e=this;return t in e.deviceKeyDict?e.deviceKeyDict[t]:t},CssManager.prependPrefix=function(t,e){return t+e.replace(/^(.)/,function(t){return t.charAt(0).toUpperCase()})},CssManager.standardizeKey=function(t){var e=this;return t=e.stripPrefix(t),t=t in e.keyFormatExceptions()?e.keyFormatExceptions()[t]:e.camelateKey(t),e.ifDebug("debug_level2"),t},CssManager.camelateKey=function(t){return t=t.replace(/-(.)/g,function(t){return t.charAt(1).toUpperCase()})},CssManager.keyFormatExceptions=function(){return{x:"transform( tx )",translateX:"transform( tx )",y:"transform( ty )",translateY:"transform( ty )",rotate:"transform( rz )",rotation:"transform( rz )",scaleX:"transform( sx )",scaleY:"transform( sy )",scale:"transform( sx ),transform( sy )"}},CssManager.conformValue=function(t,e){var i,n=this,o=[],r=e.match(/\s/),s=e.match(n.matchNumberRegex());if(!r&&s){n.ifDebug("debug_level2"),i=Number(s[0]);var a=e.match(/[^0-9\.]+$/);if(a)i+=a[0];else switch(t){case"top":case"right":case"bottom":case"left":case"width":case"height":case"fontSize":case"lineHeight":case"padding":case"margin":case"marginRight":case"marginLeft":case"marginTop":case"marginBottom":case"borderRadius":case"borderWidth":case"letterSpacing":i+="px"}}else if("backgroundImage"==t)n.ifDebug("debug_level2"),e=e.replace(/^url\(\s*['"]*/,"").replace(/['"]*\s*\)$/,""),i='url( "'+e+'" )';else if("transform"==t){n.ifDebug("debug_level2");for(var l=/([a-z0-9]+)\(([^\)]+)\)/gi;params=l.exec(e);){var c=params[2].replace(/\s/g,"").split(",").map(function(t,e,i){return Number(t.match(n.matchNumberRegex())[0])});switch(params[1]){case"translate":o.push(["transform( tx )",c[0]]),o.push(["transform( ty )",c[1]]);break;case"translateX":o.push(["transform( tx )",c[0]]);break;case"translateY":o.push(["transform( ty )",c[0]]);break;case"rotate":o.push(["transform( rz )",c[0]]);break;case"scale":o.push(["transform( sx )",c[0]]),o.push(["transform( sy )",c[1]]);break;case"scaleX":o.push(["transform( sx )",c[0]]);break;case"scaleY":o.push(["transform( sy )",c[0]])}}}else n.ifDebug("debug_level2"),i=e;if(void 0!=i){n.ifDebug("debug_level2");for(var u=t.split(/\,/),d=0;d<u.length;d++)o.push([u[d],i])}return o},CssManager.matchNumberRegex=function(){return/^[+-]?[0-9]*\.?[0-9]+/},CssManager.matchPrefixRegex=function(){return/^-*(moz-*|webkit-*|ms-*|o-)/i};for(var _pendingImages=[],_pendingCanvasImages=[],_pendingLoaders=[],_nextLoadCallback=[],_imageManagerLoader=void 0,_dict={},_isLoading=!1,_loaderCount=0,_onComplete=function(){},_onFail=function(){},UIImage=function t(e){function i(t){var i=s?2:1,n=r.width/r.height,a=e.css.width||r.width,u=e.css.height||r.height,d=void 0==e.css.width,h=void 0==e.css.height;if(o||(d="height"==t,h="width"==t,a=c.width,u=c.height),d){var f;f=l&&!h?u*n:a/i,c.style.width=Math.round(f)+"px"}if(h){var p;p=l&&!d?a/n:u/i,c.style.height=Math.round(p)+"px"}}function n(t){i(t.direction)}_classCallCheck(this,t),injectStylesheet("RED_uiImage",".ui-image","background-repeat:no-repeat; background-size:contain;");var o=!0,r=null,s=!1,a="contain",l=!!e.aspectRatio;e.css;if(!e.source)throw new Error("UIImage : No image source set on '"+e.id+"'");e.css=e.css||{};var c=new UIComponent(e);return addClass$1(c,"ui-image"),Object.defineProperties(c,{source:{get:function(){return r},set:function(t){r=get(t),c.style.backgroundImage="url("+r.src+")"}},retina:{get:function(){return s},set:function(t){s=t,i()}},ratio:{get:function(){return a},set:function(t){a=t,c.style.backgroundSize=t}},aspectRatio:{get:function(){return l},set:function(t){l=t,i()}}}),c.toString=function(){return"[object UIImage]"},c.addEventListener(UIEvent.RESIZE,n),c.source=e.source,c.retina=!!e.retina,e.ratio&&(c.ratio=e.ratio),c._initAlign(),o=!1,c},UIButton=function t(e){function i(t,i){var n,o=e.id+(i?"-state-"+u.length:"-bg");"string"==typeof t?n=new UIImage({target:h,id:o,source:t,css:d?{width:"inherit",height:"inherit"}:{}}):(n=t,n.id=o,h.addChild(n),/(UITextField)/gi.exec(n.toString())&&n.resetToDefault(),n._initAlign(!0)),i?(u.push(n),addClass$1(n,"ui-button-state")):l=n,Gesture$1.disable(n)}function n(){set$1(h,"clamp"+(e.css.width?"":"X")+(e.css.height?"":"Y"),{},!1)}function o(t){stop(t),h.togglable&&(h.state=Number(!c)),h._onClick.call(h,t),h.onClick.call(h,t)}function r(t){h._onOver.call(h,t),h.onOver.call(h,t)}function s(t){h._onOut.call(h,t),h.onOut.call(h,t)}function a(t){var e=h.enabled?"addEventListener":"removeEventListener";Gesture$1[e](h,CLICK,o),Gesture$1[e](h,OVER,r),Gesture$1[e](h,OUT,s)}_classCallCheck(this,t),e=e||{},e.css=e.css||{},injectStylesheet("RED_uiButton",".ui-button","position:absolute",".ui-button-state","position: absolute; width:inherit; height:inherit;");var l,c=0,u=[],d=!!e.containChild,h=new UIComponent(e);addClass$1(h,"ui-button"),e.bg&&i(e.bg,!1),n(),e.icon=e.icon||[];for(var f=0;f<e.icon.length;f++)i(e.icon[f],!0);return n(),h.togglable=e.icon.length>1,Object.defineProperties(h,{bg:{get:function(){return l}},icon:{get:function(){return u}},state:{get:function(){return c},set:function(t){c=t,t>=u.length&&(c=0);for(var e=0;e<u.length;e++)u[e].style.visibility=e==c?"visible":"hidden"}}}),h.onClick=e.onClick||function(t){},h.onOver=e.onOver||function(t){},h.onOut=e.onOut||function(t){},h.toString=function(){return"[object UIButton]"},h._onClick=function(t){},h._onOver=function(t){},h._onOut=function(t){},h.addEventListener(UIEvent.ENABLED,a),h.enabled=!0,h.state=e.state||0,h._initAlign(),h},UISvg=function t(e){_classCallCheck(this,t),e.css=e.css||{};var i=null,n=e.css||{},o=1,r=void 0==n.width,s=void 0==n.height;if(r&&s&&(n.width=n.height="inherit"),!e.source)throw new Error("UISvg : No markup source set on '"+e.id+"'");var a=new UIComponent(e,"svg");return Object.defineProperties(a,{source:{get:function(){return i},set:function(t){i=t,a.innerHTML=t;var e=a.getElementsByTagName("svg")[0],n=e.getAttribute("viewBox").split(/\s/g);o=+n[2]/+n[3]}},width:{get:function(){return a.offsetWidth},set:function(t){setCss(a,{width:t,height:t/o})}},height:{get:function(){return a.offsetHeight},set:function(t){setCss(a,{width:t*o,height:t})}}}),a.toString=function(){return"[object UISvg]"},a.source=e.source,r&&s||(r?a.height=n.height:s&&(a.width=n.width)),a._initAlign(),a},shg_table_counts=[1,1,2,2,4,4,7,9,14,18,27,37,54,74],shg_table=[9],i=0;i<shg_table_counts.length;i++){for(var nextSet=[],k=0;k<shg_table_counts[i];k++)nextSet.push(i+11);shg_table=shg_table.concat(nextSet)}var _rect={x:["offsetWidth","width","left","right"],y:["offsetHeight","height","top","bottom"]},_rect$1=[{x:"offsetWidth",y:"offsetHeight",parent:"parentNode"},{x:"width",y:"height",parent:"stage"}],BOTTOM="alignBottom",CENTER="alignCenter",LEFT="alignLeft",RIGHT="alignRight";module.exports={id:"310ca301-271b-40cd-859b-21f9350869d5",name:"pk-component-utils",description:"JS include containing common web-component utilities.",type:"packages",context:"Default",state:"published",updated:1526055511e3,full_name:"NetflixAdsEng/pk-component-utils",html_url:"https://github.com/NetflixAdsEng/pk-component-utils",username:"GitHub",version:"3.0.0"},window.Utils=window.Utils||{},Utils.createStyle=function(t,e){var i=t+"-component-stylesheet",n=document.getElementById(i)||this.stylesheet;n||(n=document.createElement("style"),n.type="text/css",n.id=i,this.appendChild(n));for(var o=n.innerHTML,r=0;r<arguments.length-1;r+=2){var s=arguments[r+1],a=" ";Array.isArray(s)&&(!0===s[1]&&(a=""),s=s[0]);var l=s.replace(/\,\s+/g,",");o+=t+a,o+=l,o+=" { "+(arguments[r+2]||"")+" }\n"}n.innerHTML=o,this.stylesheet=n},window.Utils=window.Utils||{},Utils.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Utils.isiOS=/iPad|iPhone|iPod/.test(navigator.userAgent),Utils.isiOS9up=Utils.isiOS&&navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]>9,Utils.isiPad=/iPad/.test(navigator.userAgent),Utils.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),window.Utils=window.Utils||{},Utils.SvgIcon=function(t,e,i){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttributeNS(null,"d",e),n.setAttribute("data-original",e),void 0!=i&&n.setAttribute("fill",i),n.setAttribute("class",t||""),n},window.Utils=window.Utils||{},Utils.textFit=function(t,e){function i(t,e){return-1<(" "+t.className+" ").indexOf(" "+e+" ")}var n={alignVert:!1,alignHoriz:!1,multiLine:!1,detectMultiLine:!0,minFontSize:6,maxFontSize:80,reProcess:!0,widthOnly:!1,alignVertWithFlexbox:!1};e||(e={});var o,r={};for(o in n)e.hasOwnProperty(o)?r[o]=e[o]:r[o]=n[o];for("function"==typeof t.toArray&&(t=t.toArray()),n=Object.prototype.toString.call(t),"[object Array]"!==n&&"[object NodeList]"!==n&&"[object HTMLCollection]"!==n&&(t=[t]),n=0;n<t.length;n++)!function(t,e){if(!("object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?t instanceof HTMLElement:t&&"object"===(void 0===t?"undefined":_typeof(t))&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)||!e.reProcess&&t.getAttribute("textFitted"))return!1;e.reProcess||t.setAttribute("textFitted",1);var n,o=t.innerHTML,r=window.getComputedStyle(t,null),s=t.clientWidth-parseInt(r.getPropertyValue("padding-left"),10)-parseInt(r.getPropertyValue("padding-right"),10);r=window.getComputedStyle(t,null);var a=t.clientHeight-parseInt(r.getPropertyValue("padding-top"),10)-parseInt(r.getPropertyValue("padding-bottom"),10);if(!s||!e.widthOnly&&!a){if(e.widthOnly)throw Error("Set a static width on the target element "+t.outerHTML+" before using textFit!");throw Error("Set a static height and width on the target element "+t.outerHTML+" before using textFit!")}for(-1===o.indexOf("textFitted")?(r=document.createElement("span"),r.className="textFitted",r.style.display="inline-block",r.innerHTML=o,t.innerHTML="",t.appendChild(r)):(r=t.querySelector("span.textFitted"),i(r,"textFitAlignVert")&&(r.className=r.className.replace("textFitAlignVert",""),r.style.height="",t.className.replace("textFitAlignVertFlex",""))),e.alignHoriz&&(t.style["text-align"]="center",r.style["text-align"]="center"),o=e.multiLine,e.detectMultiLine&&!o&&r.scrollHeight>=2*parseInt(window.getComputedStyle(r)["font-size"],10)&&(o=!0),o||(t.style["white-space"]="nowrap"),o=e.minFontSize+1,n=e.maxFontSize+1;o<=n;){var l=parseInt((o+n)/2,10);r.style.fontSize=l+"px",r.scrollWidth<=s&&(e.widthOnly||r.scrollHeight<=a)?o=l+1:n=l-1}r.style.fontSize=l-1+"px",e.alignVert&&(document.getElementById("textFitStyleSheet")||(l=document.createElement("style"),l.type="text/css",l.id="textFitStyleSheet",l.innerHTML=".textFitAlignVert{position: absolute;top: 0; right: 0; bottom: 0; left: 0;margin: auto;display: flex;justify-content: center;flex-direction: column;}.textFitAlignVertFlex{display: flex;}.textFitAlignVertFlex .textFitAlignVert{position: static;}",document.body.appendChild(l)),l=r.scrollHeight,"static"===window.getComputedStyle(t).position&&(t.style.position="relative"),i(r,"textFitAlignVert")||(r.className+=" textFitAlignVert"),r.style.height=l+"px",e.alignVertWithFlexbox&&!i(t,"textFitAlignVertFlex")&&(t.className+=" textFitAlignVertFlex"))}(t[n],r)},"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;i<n;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}():function(t){if("Element"in t){var e="classList",i="prototype",n=t.Element[i],o=Object,r=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[i].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},c=function(t){for(var e=r.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],n=0,o=i.length;n<o;n++)this.push(i[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=c[i]=[],d=function(){return new c(this)};if(a[i]=Error[i],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",-1!==l(this,t)},u.add=function(){var t,e=arguments,i=0,n=e.length,o=!1;do{t=e[i]+"",-1===l(this,t)&&(this.push(t),o=!0)}while(++i<n);o&&this._updateClassName()},u.remove=function(){var t,e,i=arguments,n=0,o=i.length,r=!1;do{for(t=i[n]+"",e=l(this,t);-1!==e;)this.splice(e,1),r=!0,e=l(this,t)}while(++n<o);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var i=this.contains(t),n=i?!0!==e&&"remove":!1!==e&&"add";return n&&this[n](t),!0===e||!1===e?e:!i},u.toString=function(){return this.join(" ")},o.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{o.defineProperty(n,e,h)}catch(t){-2146823252===t.number&&(h.enumerable=!1,o.defineProperty(n,e,h))}}else o[i].__defineGetter__&&n.__defineGetter__(e,d)}}(self)),function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}(),function(t,e){"object"==_typeof(exports)&&void 0!==module?e():(__WEBPACK_AMD_DEFINE_FACTORY__=e,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(0,function(){function t(){}function e(t){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(t,this)}function i(t,i){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,e._immediateFn(function(){var e=1===t._state?i.onFulfilled:i.onRejected;if(null!==e){var r;try{r=e(t._value)}catch(t){return void o(i.promise,t)}n(i.promise,r)}else(1===t._state?n:o)(i.promise,t._value)})):t._deferreds.push(i)}function n(t,i){try{if(i===t)throw new TypeError("A promise cannot be resolved with itself.");if(i&&("object"==(void 0===i?"undefined":_typeof(i))||"function"==typeof i)){var n=i.then;if(i instanceof e)return t._state=3,t._value=i,void r(t);if("function"==typeof n)return void s(function(t,e){return function(){t.apply(e,arguments)}}(n,i),t)}t._state=1,t._value=i,r(t)}catch(e){o(t,e)}}function o(t,e){t._state=2,t._value=e,r(t)}function r(t){2===t._state&&0===t._deferreds.length&&e._immediateFn(function(){t._handled||e._unhandledRejectionFn(t._value)});for(var n=0,o=t._deferreds.length;o>n;n++)i(t,t._deferreds[n]);t._deferreds=null}function s(t,e){var i=!1;try{t(function(t){i||(i=!0,n(e,t))},function(t){i||(i=!0,o(e,t))})}catch(t){if(i)return;i=!0,o(e,t)}}var a=setTimeout;e.prototype.catch=function(t){return this.then(null,t)},e.prototype.then=function(e,n){var o=new this.constructor(t);return i(this,new function(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}(e,n,o)),o},e.prototype.finally=function(t){var e=this.constructor;return this.then(function(i){return e.resolve(t()).then(function(){return i})},function(i){return e.resolve(t()).then(function(){return e.reject(i)})})},e.all=function(t){return new e(function(e,i){function n(t,s){try{if(s&&("object"==(void 0===s?"undefined":_typeof(s))||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){n(t,e)},i)}o[t]=s,0==--r&&e(o)}catch(t){i(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);for(var r=o.length,s=0;o.length>s;s++)n(s,o[s])})},e.resolve=function(t){return t&&"object"==(void 0===t?"undefined":_typeof(t))&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,i){i(t)})},e.race=function(t){return new e(function(e,i){for(var n=0,o=t.length;o>n;n++)t[n].then(e,i)})},e._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){a(t,0)},e._unhandledRejectionFn=function(t){void 0!==console&&console};var l=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==l)return l;throw Error("unable to locate global object")}();l.Promise||(l.Promise=e)}),function(){function t(t,e,i){var n=null;return Utils.isMobile&&(n=Utils.isiOS?e:i),n||t}function e(t){return new Promise(function(e,i){var o=new XMLHttpRequest;o.addEventListener("load",function(){if(o.status>=200&&o.status<300)return n("info","url loaded",t,o.response),void e(o.response);var r="Failed to load "+t+" ["+o.status+"]"+o.responseText;n("error",r),i(new Error(r))}),o.addEventListener("error",function(e){var o="Error in loading "+t;n("error",o,e),i(e.error||new Error(o))}),o.open("GET",t),o.send()})}function i(t){return new Promise(function(e,i){var n=null,o=null,r=function(){t.removeEventListener("load",n),t.removeEventListener("error",o)};n=function(){r(),e(null)},o=function(t){r(),i(t.error)},t.addEventListener("load",n),t.addEventListener("error",o)})}function n(t){window.Enabler&&Enabler.isServingInLiveEnvironment()}function o(t){var e={},i=window.devDynamicContent||window.dynamicContent;return i?(e[t]=i[t],e):e}var r=function(){function t(t,e){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var i=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return!!i&&i.call(t,e)}function e(){this.mutationObserver=null}return e.prototype.startObserving=function(e,i){if(!window.MutationObserver||window.MutationObserver._isPolyfilled){var n="monetElementObserver__"+Math.floor(1e4*Math.random());window[n]=function(){var t=Array.prototype.slice.call(document.querySelectorAll(e));t.length>0&&i(t),window[n]=null};var o="window."+n+"();",r="data:text/javascript;base64,"+btoa(o),s=document.createElement("script");s.setAttribute("type","text/javascript"),s.setAttribute("src",r),setTimeout(function(){document.head.appendChild(s)},0)}else{var a={attributes:!1,childList:!0,characterData:!1,subtree:!0};this.mutationObserver=new MutationObserver(function(n){var o=[];n.forEach(function(i){if("childList"===i.type){Array.prototype.slice.call(i.addedNodes).forEach(function(i){if(i.nodeType===Node.ELEMENT_NODE){t(i,e)&&o.push(i);var n=i.querySelectorAll(e);Array.prototype.push.apply(o,n)}})}}),o.length>0&&i(o)}),this.mutationObserver.observe(document,a)}},e.prototype.stopObserving=function(){this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null)},e}(),s=function(){function t(t){var e=document.createElement("script"),n=i(e);return e.setAttribute("type","text/javascript"),e.setAttribute("src",t),document.head.appendChild(e),n}function e(e){var i=d[e];return i||(i=d[e]=t(e)),i}function n(){return window.Monet?Promise.resolve():e(l)}function o(){return window.Enabler?Promise.resolve():e(c)}function r(){return Enabler.isInitialized()?Promise.resolve():new Promise(function(t,e){Enabler.addEventListener(studio.events.StudioEvent.INIT,function(){t()})})}function s(){return o().then(n).then(r).then(function(){return u||(u=!0,Monet.initialize(Enabler)),Monet})}function a(){}var l="https://ae.nflximg.net/monet/scripts/monet.min.js",c="https://s0.2mdn.net/ads/studio/Enabler.js",u=!1,d={};return a.prototype.getInitialized=function(){return s()},a}(),a=function(){function i(t){return m[t]||"value"}function r(t,e){var n={};Object.keys(t.rootAssets).forEach(function(e){var o=t.rootAssets[e],r=e.split(".")[0],s=o.id,a=o[i(r)||"value"];"url"!==r&&"image"!==r&&"video"!==r||(a={Url:a}),n[s]=a});var o={};return o[e]=[n],o}function s(t){return"boolean"==typeof t?"bool":"number"==typeof t?"number":"string"==typeof t?/(^[^.]*$)|(\.(gif|jpg|jpeg|png)$)/i.test(t)||/^https:\/\/[^.]+.nflximg.net\/api\/v\d\/rendition/.test(t)?"image":/(^[^.]*$)|(\.(mpeg|webm|flv|mp4)$)/i.test(t)?"video":/^https?/.test(t)?"url":"text":null}function a(t,e){var o=t[e][0],r={};return Object.keys(o).forEach(function(t){var e=o[t];"object"===(void 0===e?"undefined":_typeof(e))&&e.hasOwnProperty("Url")&&(e=e.Url);var a=s(e);if(null===a)return void n("warn","Failed to guess monet type for GWD value",e);var l=a+"."+t,c={type:a,id:t};c[i(a)]=e,r[l]=c}),{rootAssets:r}}function l(t,e){var i=Object.keys(e).map(function(i){if("_"===i[0])return Promise.resolve();if(!t.hasOwnProperty(i)){var n="GWD assets invalid - missing key "+i;return Promise.reject(new Error(n))}var o=e[i],r=t[i],a=s(o),c=s(r);if(a!==c){var n=["GWD assets invalid - data type mismatch, expected","\n\t defaultValueType:",a,"\n\t found","\n\t providedValueType:",c,"\n\t defaultValue:",o,"\n\t providedValue:",r].join(" ");return Promise.reject(new Error(n))}return"object"===(void 0===r?"undefined":_typeof(r))?l(r,o):Promise.resolve()});return Promise.all(i)}function c(e,i,n){if(!n&&i&&e.dynamicFeedSheetName&&(n=r(i,e.dynamicFeedSheetName)),!i&&n&&e.dynamicFeedSheetName&&(i=a(n,e.dynamicFeedSheetName)),n&&e.dynamicFeedSheetName){var o=n[e.dynamicFeedSheetName][0];o.Exit_URL={Url:t(o.Exit_URL_Desktop.Url,o.Exit_URL_iOS.Url,o.Exit_URL_Android.Url)}}if(i){var s=function(t){return i.rootAssets[t]&&i.rootAssets[t].url};i.rootAssets["url.Exit_URL"]={type:"url",id:"Exit_URL",url:t(s("url.Exit_URL_Desktop"),s("url.Exit_URL_iOS"),s("url.Exit_URL_Android"))}}e.dataTransformers.forEach(function(t){t.call(e,n,e)});var l={};return l[g.MONET]=i,l[g.GWD]=n,l}function u(t,e,i){var n=o(i);return n?l(t[f.MonetDataProviderDataType.GWD],n).then(function(){return t},function(t){return e.logEvent("MONET_DATA_ERROR",{stack:t.stack,details:t.message}),Promise.reject(t)}):Promise.resolve(t)}function d(t,e){if(!t.primaryAssetsPromise){var i=e.buildMonetRequest();t.primaryAssetsPromise=new Promise(function(o,r){e.load(i,function(i){e.logEvent("MONET_ASSETS_LOADED");var n=c(t,i,null);u(n,e,t.dynamicFeedSheetName).then(function(){o(n)},r)},function(t){n("warn","Error in loading creative assets from monet",t),r(t)})})}return t.primaryAssetsPromise}function h(t,i){return t.backupAssetsPromise||(t.backupAssetsPromise=e(t.backupLocation||p).then(function(e){return e=JSON.parse(e),e.isBackupData=!0,i.logEvent("BACKUP_ASSETS_LOADED"),u(c(t,e,null),i,t.dynamicFeedSheetName)}).then(null,function(e){n("warn","Backup load failed, trying dynamicContent",e);var r=o(t.dynamicFeedSheetName);return r?(i.logEvent("DYNAMIC_CONTENT_LOADED"),c(t,null,r)):Promise.reject(e)})),t.backupAssetsPromise}function f(t,e,i){this.backupLocation=i,this.monetLoader=t,this.dynamicFeedSheetName=e,this.dataLoadPromise=null,this.dataLoadFinished=!1,this.loadedData=null,this.primaryAssetsPromise=null,this.backupAssetsPromise=null,this.dataTransformers=[]}var p="backup.json",m={text:"text",number:"value",image:"url",video:"url",url:"url",bool:"value"},g={MONET:"MONET",GWD:"GWD"};return f.prototype.loadData=function(){var t=this.monetLoader,e=this;return this.dataLoadPromise||(this.dataLoadPromise=t.getInitialized().then(function(t){return d(e,t)}).then(null,function(i){return n("warn","primary assets load failed, trying backup",i),t.getInitialized().then(function(t){return h(e,t)})}).then(function(t){return e.dataLoadFinished=!0,e.loadedData=t},function(t){return e.dataLoadFinished=!0,Promise.reject(t)})),this.dataLoadPromise},f.prototype.isDataLoaded=function(){return this.dataLoadFinished},f.prototype.getData=function(t){return this.dataLoadFinished?this.loadedData[t]:null},f.prototype.getDataWhenLoaded=function(t){return this.dataLoadPromise.then(function(e){return e[t]})},f.prototype.getBackupData=function(t){var e=this;return this.monetLoader.getInitialized().then(function(i){return h(e,i).then(function(e){return e[t]})})},f.prototype.addDataTransformer=function(t){this.dataTransformers.push(t)},f.MonetDataProviderDataType=g,f}();!function(){function t(t,e){var i=new CustomEvent(e,{bubbles:!0,cancelable:!0});t.dispatchEvent(i)}function e(t){for(var e=t.getAttribute("id"),n=document.querySelectorAll(i),r=0;r<n.length;++r){n[r].setAttribute(o,e)}var s=document.querySelector(l);s&&s.parentNode&&s.parentNode.removeChild(s)}var i="gwd-doubleclick",o="data-provider",l="gwd-gpa-data-provider",c=new r,u=[],d=Object.create(HTMLElement.prototype,{pendingLogs:{value:[],enumerable:!1},createdCallback:{value:function(){this.monetLoader=null,this.monetDataProvider=null,e(this)},enumerable:!0},attachedCallback:{value:function(){if(!this._attached){this._attached=!0;var e=this;this.monetLoader=new s,this.monetLoader.getInitialized().then(function(t){if(0!==e.pendingLogs.length){var i=e.pendingLogs.slice();e.pendingLogs.length=0,t.logEvents(i)}});var i=this.getAttribute("dynamic-feed-sheet-name");(!i||i&&i.length<1)&&n("warn",'Missing `dynamic-feed-sheet-name="your sheet name"`'),this.monetDataProvider=new a(this.monetLoader,i,this.getAttribute("backup")),this.monetDataProvider.loadData().then(function(){},function(i){t(e,"error")})}},enumerable:!0},attributeChangedCallback:{value:function(t){},enumerable:!0},isDataLoaded:{value:function(){return!!this.monetDataProvider&&this.monetDataProvider.isDataLoaded()}},getData:{value:function(){return this.monetDataProvider.getData(a.MonetDataProviderDataType.GWD)}},getMonetData:{value:function(){return this.monetDataProvider.getDataWhenLoaded(a.MonetDataProviderDataType.MONET)}},getBackupMonetData:{value:function(){return this.monetDataProvider.getBackupData(a.MonetDataProviderDataType.MONET)}},addDataTransformer:{value:function(t){return this.monetDataProvider.addDataTransformer(t)}},logEvent:{value:function(t,e){if(!this.monetLoader)return void this.pendingLogs.push({eventType:t,eventData:e});this.monetLoader.getInitialized().then(function(i){i.logEvent(t,e)},function(i){n("error","Failed to log Monet event",i,t,e)})}},register:{value:function(e){u.indexOf(e)>-1||(u.push(e),e.addEventListener("ready",function(e){var i=u.indexOf(e.target);i>-1&&(u.splice(i,1),0==u.length&&(this.setAttribute("ready",""),t(this,"ready")))}.bind(this)))}},preview:{value:function(){return!1}}});!function(){c.startObserving("monet-integrator",function(t){c.stopObserving();var i=t[0];document.body.insertBefore(i,document.body.firstChild),e(i)})}(),document.registerElement("monet-integrator",{prototype:d})}()}(),module.exports={id:"67e5c648-28f4-41c4-b2e4-c12fbbc10825",name:"wc-monet-integrator",description:"Component to tie ad units to monet data integration",type:"web_components",context:"Default",state:"published",updated:1526055635108,full_name:"NetflixAdsEng/wc-monet-integrator",html_url:"https://github.com/NetflixAdsEng/wc-monet-integrator",username:"GitHub",version:"2.0.4"},module.exports={id:"310ca301-271b-40cd-859b-21f9350869d5",name:"pk-component-utils",description:"JS include containing common web-component utilities.",type:"packages",context:"Default",state:"published",updated:1526055511e3,full_name:"NetflixAdsEng/pk-component-utils",html_url:"https://github.com/NetflixAdsEng/pk-component-utils",username:"GitHub",version:"3.0.0"},window.Utils=window.Utils||{},Utils.createStyle=function(t,e){var i=t+"-component-stylesheet",n=document.getElementById(i)||this.stylesheet;n||(n=document.createElement("style"),n.type="text/css",n.id=i,this.appendChild(n));for(var o=n.innerHTML,r=0;r<arguments.length-1;r+=2){var s=arguments[r+1],a=" ";Array.isArray(s)&&(!0===s[1]&&(a=""),s=s[0]);var l=s.replace(/\,\s+/g,",");o+=t+a,o+=l,o+=" { "+(arguments[r+2]||"")+" }\n"}n.innerHTML=o,this.stylesheet=n},window.Utils=window.Utils||{},Utils.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Utils.isiOS=/iPad|iPhone|iPod/.test(navigator.userAgent),Utils.isiOS9up=Utils.isiOS&&navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]>9,Utils.isiPad=/iPad/.test(navigator.userAgent),Utils.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),window.Utils=window.Utils||{},Utils.SvgIcon=function(t,e,i){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttributeNS(null,"d",e),n.setAttribute("data-original",e),void 0!=i&&n.setAttribute("fill",i),n.setAttribute("class",t||""),n},window.Utils=window.Utils||{},Utils.textFit=function(t,e){function i(t,e){return-1<(" "+t.className+" ").indexOf(" "+e+" ")}var n={alignVert:!1,alignHoriz:!1,multiLine:!1,detectMultiLine:!0,minFontSize:6,maxFontSize:80,reProcess:!0,widthOnly:!1,alignVertWithFlexbox:!1};e||(e={});var o,r={};for(o in n)e.hasOwnProperty(o)?r[o]=e[o]:r[o]=n[o];for("function"==typeof t.toArray&&(t=t.toArray()),n=Object.prototype.toString.call(t),"[object Array]"!==n&&"[object NodeList]"!==n&&"[object HTMLCollection]"!==n&&(t=[t]),n=0;n<t.length;n++)!function(t,e){if(!("object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?t instanceof HTMLElement:t&&"object"===(void 0===t?"undefined":_typeof(t))&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)||!e.reProcess&&t.getAttribute("textFitted"))return!1;e.reProcess||t.setAttribute("textFitted",1);var n,o=t.innerHTML,r=window.getComputedStyle(t,null),s=t.clientWidth-parseInt(r.getPropertyValue("padding-left"),10)-parseInt(r.getPropertyValue("padding-right"),10);r=window.getComputedStyle(t,null);var a=t.clientHeight-parseInt(r.getPropertyValue("padding-top"),10)-parseInt(r.getPropertyValue("padding-bottom"),10);if(!s||!e.widthOnly&&!a){if(e.widthOnly)throw Error("Set a static width on the target element "+t.outerHTML+" before using textFit!");throw Error("Set a static height and width on the target element "+t.outerHTML+" before using textFit!")}for(-1===o.indexOf("textFitted")?(r=document.createElement("span"),r.className="textFitted",r.style.display="inline-block",r.innerHTML=o,t.innerHTML="",t.appendChild(r)):(r=t.querySelector("span.textFitted"),i(r,"textFitAlignVert")&&(r.className=r.className.replace("textFitAlignVert",""),r.style.height="",t.className.replace("textFitAlignVertFlex",""))),e.alignHoriz&&(t.style["text-align"]="center",r.style["text-align"]="center"),o=e.multiLine,e.detectMultiLine&&!o&&r.scrollHeight>=2*parseInt(window.getComputedStyle(r)["font-size"],10)&&(o=!0),o||(t.style["white-space"]="nowrap"),o=e.minFontSize+1,n=e.maxFontSize+1;o<=n;){var l=parseInt((o+n)/2,10);r.style.fontSize=l+"px",r.scrollWidth<=s&&(e.widthOnly||r.scrollHeight<=a)?o=l+1:n=l-1}r.style.fontSize=l-1+"px",e.alignVert&&(document.getElementById("textFitStyleSheet")||(l=document.createElement("style"),l.type="text/css",l.id="textFitStyleSheet",l.innerHTML=".textFitAlignVert{position: absolute;top: 0; right: 0; bottom: 0; left: 0;margin: auto;display: flex;justify-content: center;flex-direction: column;}.textFitAlignVertFlex{display: flex;}.textFitAlignVertFlex .textFitAlignVert{position: static;}",document.body.appendChild(l)),l=r.scrollHeight,"static"===window.getComputedStyle(t).position&&(t.style.position="relative"),i(r,"textFitAlignVert")||(r.className+=" textFitAlignVert"),r.style.height=l+"px",e.alignVertWithFlexbox&&!i(t,"textFitAlignVertFlex")&&(t.className+=" textFitAlignVertFlex"))}(t[n],r)},"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;i<n;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}():function(t){if("Element"in t){var e="classList",i="prototype",n=t.Element[i],o=Object,r=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[i].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},c=function(t){for(var e=r.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],n=0,o=i.length;n<o;n++)this.push(i[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=c[i]=[],d=function(){return new c(this)};if(a[i]=Error[i],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",-1!==l(this,t)},u.add=function(){var t,e=arguments,i=0,n=e.length,o=!1;do{t=e[i]+"",-1===l(this,t)&&(this.push(t),o=!0)}while(++i<n);o&&this._updateClassName()},u.remove=function(){var t,e,i=arguments,n=0,o=i.length,r=!1;do{for(t=i[n]+"",e=l(this,t);-1!==e;)this.splice(e,1),r=!0,e=l(this,t)}while(++n<o);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var i=this.contains(t),n=i?!0!==e&&"remove":!1!==e&&"add";return n&&this[n](t),!0===e||!1===e?e:!i},u.toString=function(){return this.join(" ")},o.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{o.defineProperty(n,e,h)}catch(t){-2146823252===t.number&&(h.enumerable=!1,o.defineProperty(n,e,h))}}else o[i].__defineGetter__&&n.__defineGetter__(e,d)}}(self)),function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}(),function(t,e){"object"==_typeof(exports)&&void 0!==module?e():(__WEBPACK_AMD_DEFINE_FACTORY__=e,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(0,function(){function t(){}function e(t){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(t,this)}function i(t,i){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,e._immediateFn(function(){var e=1===t._state?i.onFulfilled:i.onRejected;if(null!==e){var r;try{r=e(t._value)}catch(t){return void o(i.promise,t)}n(i.promise,r)}else(1===t._state?n:o)(i.promise,t._value)})):t._deferreds.push(i)}function n(t,i){try{if(i===t)throw new TypeError("A promise cannot be resolved with itself.");if(i&&("object"==(void 0===i?"undefined":_typeof(i))||"function"==typeof i)){var n=i.then;if(i instanceof e)return t._state=3,t._value=i,void r(t);if("function"==typeof n)return void s(function(t,e){return function(){t.apply(e,arguments)}}(n,i),t)}t._state=1,t._value=i,r(t)}catch(e){o(t,e)}}function o(t,e){t._state=2,t._value=e,r(t)}function r(t){2===t._state&&0===t._deferreds.length&&e._immediateFn(function(){t._handled||e._unhandledRejectionFn(t._value)});for(var n=0,o=t._deferreds.length;o>n;n++)i(t,t._deferreds[n]);t._deferreds=null}function s(t,e){var i=!1;try{t(function(t){i||(i=!0,n(e,t))},function(t){i||(i=!0,o(e,t))})}catch(t){if(i)return;i=!0,o(e,t)}}var a=setTimeout;e.prototype.catch=function(t){return this.then(null,t)},e.prototype.then=function(e,n){var o=new this.constructor(t);return i(this,new function(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}(e,n,o)),o},e.prototype.finally=function(t){var e=this.constructor;return this.then(function(i){return e.resolve(t()).then(function(){return i})},function(i){return e.resolve(t()).then(function(){return e.reject(i)})})},e.all=function(t){return new e(function(e,i){function n(t,s){try{if(s&&("object"==(void 0===s?"undefined":_typeof(s))||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){n(t,e)},i)}o[t]=s,0==--r&&e(o)}catch(t){i(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);for(var r=o.length,s=0;o.length>s;s++)n(s,o[s])})},e.resolve=function(t){return t&&"object"==(void 0===t?"undefined":_typeof(t))&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,i){i(t)})},e.race=function(t){return new e(function(e,i){for(var n=0,o=t.length;o>n;n++)t[n].then(e,i)})},e._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){a(t,0)},e._unhandledRejectionFn=function(t){void 0!==console&&console};var l=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==l)return l;throw Error("unable to locate global object")}();l.Promise||(l.Promise=e)}),function(){window.Utils=function(t){return t.SvgContainer=function(t,e,i,n){return'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none" x="0px" y="0px" width="'+t+'px" height="'+e+'px" viewBox="0 0 '+t+" "+e+'"><defs><linearGradient id="Gradient_1" gradientUnits="userSpaceOnUse" '+i+' spreadMethod="pad"><stop  offset="0%" stop-color="#AD050F"/><stop offset="100%" stop-color="#9D030C"/></linearGradient><g transform="scale('+t/100+","+e/100+')" ><path fill="#9D030C" stroke="none" d="'+n+'"/></g></defs><g transform="matrix( 1, 0, 0, 1, 0,0) "></svg>'},t}(window.Utils||{});var t=Object.create(HTMLElement.prototype,{createdCallback:{value:function(){function t(t,e){var i=document.createElement("div");return i.classList.add(t),e&&e.appendChild(i),i}this.leftContainer=t("leftContainer",this),this.rightContainer=t("rightContainer",this),this.midContainer=t("midContainer",this),this.mid=t("mid",this.midContainer),this._attached=!0},enumerable:!0},attachedCallback:{value:function(){if(this._attached)return void(this._attached=!1);this.width=this.getAttribute("width")||this.offsetWidth||300,this.height=this.getAttribute("height")||this.offsetHeight||250,this.scale=1;var t={"970x250":2.5,"300x600":1.5,"728x90":2,"320x480":1.3};this.width,this.height;t[this.width+"x"+this.height]&&(this.scale=t[this.width+"x"+this.height]),Number(this.getAttribute("scale"))&&(this.scale=Number(this.getAttribute("scale")));var e=.5*this.width;this.leftContainer.innerHTML=Utils.SvgContainer(e,600,'x1="-11.475" y1="55.6375" x2="62.875" y2="50.4625"',"M 0 0 L 0 100 100 100 100 0 0 0 Z"),this.rightContainer.innerHTML=Utils.SvgContainer(e,600,'x1="111.475" y1="44.3125" x2="37.125" y2="49.4875"',"M 100 100 L 100 0 0 0 0 100 100 100 Z"),Utils.createStyle.call(this,"netflix-flushed-ribbon","","overflow: hidden; width:"+this.width+"px; height:"+this.height+"px; display:block; position:relative; pointer-events:none; z-index:100;",".leftContainer","background-color: #9d030c;position: absolute; top: 0; left: 0; width: 50%; height: "+this.height+"px; overflow: hidden;",".rightContainer","background-color: #9d030c;position: absolute; top: 0; right: 0; width: 50%; height: "+this.height+"px;overflow: hidden;",".midContainer","position: absolute; width: "+this.width+"px; height: "+this.height+"px; transform-origin: 50% 50%; -webkit-transform: rotate(-19deg); transform:rotate(-19deg);",".mid","position:absolute; top:50%; left:50%; width: "+160*this.scale+"px; height: "+2.5*this.height+"px; overflow: hidden; transform: translate(-50%,-150%); background-color: #e50914;"),TweenMax.set([this.leftContainer,this.rightContainer],{y:this.height}),this.timeline=new TimelineMax({paused:!0}),this.timeline.fromTo(this.leftContainer,.2,{y:this.height},{y:0,ease:Power2.easeIn},"start").fromTo(this.mid,.2,{x:"-50%",y:"-150%"},{x:"-50%",y:"-50%",ease:Power2.easeIn},"start+=.2").fromTo(this.rightContainer,.2,{y:this.height},{y:0,ease:Power2.easeIn,onComplete:this.onCoverComplete.bind(this)},"start+=.4").to(this.leftContainer,.2,{y:-this.height,ease:Power2.easeIn,onStart:this.onLeftPillarStart.bind(this),onComplete:this.onLeftPillarComplete.bind(this)},"start+=.85").to(this.mid,.3,{x:"-50%",y:"200%",ease:Power2.easeIn},"start+=1.15").to(this.rightContainer,.3,{y:-this.height,ease:Power2.easeIn,onComplete:this.onComplete.bind(this)},"start+=1.35"),this.dispatchEvent(new CustomEvent("ready"))},enumerable:!0},play:{value:function(){this.timeline.play()}},onComplete:{value:function(){this.dispatchEvent(new CustomEvent("complete"))}},onCoverComplete:{value:function(){this.dispatchEvent(new CustomEvent("coverComplete"))}},onLeftPillarComplete:{value:function(){this.dispatchEvent(new CustomEvent("leftPillarComplete"))}},onLeftPillarStart:{value:function(){this.dispatchEvent(new CustomEvent("leftPillarStart"))}},progress:{value:function(t,e){this.timeline.progress(t,e)}},preview:{value:function(){this.addEventListener("ready",this.play)}}});document.registerElement("netflix-flushed-ribbon",{prototype:t})}(),module.exports={id:"c1c53d0d-0cc6-4377-a710-f34ea9737786",name:"wc-netflix-flushed-ribbon",description:"Netflix Brand fully flushed ribbon animation",type:"web_components",context:"Default",state:"published",updated:1526056114110,full_name:"NetflixAdsEng/wc-netflix-flushed-ribbon",html_url:"https://github.com/NetflixAdsEng/wc-netflix-flushed-ribbon",username:"GitHub",version:"2.0.3"};var Common=function(){function t(){_classCallCheck(this,t)}return t.init=function(){var t=this;return new Promise(function(e,i){var n=[];Promise.all(n).then(function(){t.prepareAdData(),e()}).catch(function(t){i(t)})})},t.prepareAdData=function(){global.adData=new AdData},t}();module.exports={id:"310ca301-271b-40cd-859b-21f9350869d5",name:"pk-component-utils",description:"JS include containing common web-component utilities.",type:"packages",context:"Default",state:"published",updated:1525459963e3,full_name:"NetflixAdsEng/pk-component-utils",html_url:"https://github.com/NetflixAdsEng/pk-component-utils",username:"GitHub",version:"2.0.4"},window.Utils=window.Utils||{},Utils.createStyle=function(t,e){var i=t+"-component-stylesheet",n=document.getElementById(i)||this.stylesheet;n||(n=document.createElement("style"),n.type="text/css",n.id=i,this.appendChild(n));for(var o=n.innerHTML,r=0;r<arguments.length-1;r+=2){var s=arguments[r+1],a=" ";Array.isArray(s)&&(!0===s[1]&&(a=""),s=s[0]);var l=s.replace(/\,\s+/g,",");o+=t+a,o+=l,o+=" { "+(arguments[r+2]||"")+" }\n"}n.innerHTML=o,this.stylesheet=n},window.Utils=window.Utils||{},Utils.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Utils.isiOS=/iPad|iPhone|iPod/.test(navigator.userAgent),Utils.isiOS9up=Utils.isiOS&&navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]>9,Utils.isiPad=/iPad/.test(navigator.userAgent),Utils.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),window.Utils=window.Utils||{},Utils.SvgIcon=function(t,e,i){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttributeNS(null,"d",e),n.setAttribute("data-original",e),void 0!=i&&n.setAttribute("fill",i),n.setAttribute("class",t||""),n},window.Utils=window.Utils||{},Utils.textFit=function(t,e){function i(t,e){return-1<(" "+t.className+" ").indexOf(" "+e+" ")}var n={alignVert:!1,alignHoriz:!1,multiLine:!1,detectMultiLine:!0,minFontSize:6,maxFontSize:80,reProcess:!0,widthOnly:!1,alignVertWithFlexbox:!1};e||(e={});var o,r={};for(o in n)e.hasOwnProperty(o)?r[o]=e[o]:r[o]=n[o];for("function"==typeof t.toArray&&(t=t.toArray()),n=Object.prototype.toString.call(t),"[object Array]"!==n&&"[object NodeList]"!==n&&"[object HTMLCollection]"!==n&&(t=[t]),n=0;n<t.length;n++)!function(t,e){if(!("object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?t instanceof HTMLElement:t&&"object"===(void 0===t?"undefined":_typeof(t))&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)||!e.reProcess&&t.getAttribute("textFitted"))return!1;e.reProcess||t.setAttribute("textFitted",1);var n,o=t.innerHTML,r=window.getComputedStyle(t,null),s=t.clientWidth-parseInt(r.getPropertyValue("padding-left"),10)-parseInt(r.getPropertyValue("padding-right"),10);r=window.getComputedStyle(t,null);var a=t.clientHeight-parseInt(r.getPropertyValue("padding-top"),10)-parseInt(r.getPropertyValue("padding-bottom"),10);if(!s||!e.widthOnly&&!a){if(e.widthOnly)throw Error("Set a static width on the target element "+t.outerHTML+" before using textFit!");throw Error("Set a static height and width on the target element "+t.outerHTML+" before using textFit!")}for(-1===o.indexOf("textFitted")?(r=document.createElement("span"),r.className="textFitted",r.style.display="inline-block",r.innerHTML=o,t.innerHTML="",t.appendChild(r)):(r=t.querySelector("span.textFitted"),i(r,"textFitAlignVert")&&(r.className=r.className.replace("textFitAlignVert",""),r.style.height="",t.className.replace("textFitAlignVertFlex",""))),e.alignHoriz&&(t.style["text-align"]="center",r.style["text-align"]="center"),o=e.multiLine,e.detectMultiLine&&!o&&r.scrollHeight>=2*parseInt(window.getComputedStyle(r)["font-size"],10)&&(o=!0),o||(t.style["white-space"]="nowrap"),o=e.minFontSize+1,n=e.maxFontSize+1;o<=n;){var l=parseInt((o+n)/2,10);r.style.fontSize=l+"px",r.scrollWidth<=s&&(e.widthOnly||r.scrollHeight<=a)?o=l+1:n=l-1}r.style.fontSize=l-1+"px",e.alignVert&&(document.getElementById("textFitStyleSheet")||(l=document.createElement("style"),l.type="text/css",l.id="textFitStyleSheet",l.innerHTML=".textFitAlignVert{position: absolute;top: 0; right: 0; bottom: 0; left: 0;margin: auto;display: flex;justify-content: center;flex-direction: column;}.textFitAlignVertFlex{display: flex;}.textFitAlignVertFlex .textFitAlignVert{position: static;}",document.body.appendChild(l)),l=r.scrollHeight,"static"===window.getComputedStyle(t).position&&(t.style.position="relative"),i(r,"textFitAlignVert")||(r.className+=" textFitAlignVert"),r.style.height=l+"px",e.alignVertWithFlexbox&&!i(t,"textFitAlignVertFlex")&&(t.className+=" textFitAlignVertFlex"))}(t[n],r)},"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;i<n;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}():function(t){if("Element"in t){var e="classList",i="prototype",n=t.Element[i],o=Object,r=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[i].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},c=function(t){for(var e=r.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],n=0,o=i.length;n<o;n++)this.push(i[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=c[i]=[],d=function(){return new c(this)};if(a[i]=Error[i],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",-1!==l(this,t)},u.add=function(){var t,e=arguments,i=0,n=e.length,o=!1;do{t=e[i]+"",-1===l(this,t)&&(this.push(t),o=!0)}while(++i<n);o&&this._updateClassName()},u.remove=function(){var t,e,i=arguments,n=0,o=i.length,r=!1;do{for(t=i[n]+"",e=l(this,t);-1!==e;)this.splice(e,1),r=!0,e=l(this,t)}while(++n<o);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var i=this.contains(t),n=i?!0!==e&&"remove":!1!==e&&"add";return n&&this[n](t),!0===e||!1===e?e:!i},u.toString=function(){return this.join(" ")},o.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{o.defineProperty(n,e,h)}catch(t){-2146823252===t.number&&(h.enumerable=!1,o.defineProperty(n,e,h))}}else o[i].__defineGetter__&&n.__defineGetter__(e,d)}}(self)),function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}(),function(t,e){"object"==_typeof(exports)&&void 0!==module?e():(__WEBPACK_AMD_DEFINE_FACTORY__=e,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(0,function(){function t(){}function e(t){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(t,this)}function i(t,i){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,e._immediateFn(function(){var e=1===t._state?i.onFulfilled:i.onRejected;if(null!==e){var r;try{r=e(t._value)}catch(t){return void o(i.promise,t)}n(i.promise,r)}else(1===t._state?n:o)(i.promise,t._value)})):t._deferreds.push(i)}function n(t,i){try{if(i===t)throw new TypeError("A promise cannot be resolved with itself.");if(i&&("object"==(void 0===i?"undefined":_typeof(i))||"function"==typeof i)){var n=i.then;if(i instanceof e)return t._state=3,t._value=i,void r(t);if("function"==typeof n)return void s(function(t,e){return function(){t.apply(e,arguments)}}(n,i),t)}t._state=1,t._value=i,r(t)}catch(e){o(t,e)}}function o(t,e){t._state=2,t._value=e,r(t)}function r(t){2===t._state&&0===t._deferreds.length&&e._immediateFn(function(){t._handled||e._unhandledRejectionFn(t._value)});for(var n=0,o=t._deferreds.length;o>n;n++)i(t,t._deferreds[n]);t._deferreds=null}function s(t,e){var i=!1;try{t(function(t){i||(i=!0,n(e,t))},function(t){i||(i=!0,o(e,t))})}catch(t){if(i)return;i=!0,o(e,t)}}var a=setTimeout;e.prototype.catch=function(t){return this.then(null,t)},e.prototype.then=function(e,n){var o=new this.constructor(t);return i(this,new function(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}(e,n,o)),o},e.prototype.finally=function(t){var e=this.constructor;return this.then(function(i){return e.resolve(t()).then(function(){return i})},function(i){return e.resolve(t()).then(function(){return e.reject(i)})})},e.all=function(t){return new e(function(e,i){function n(t,s){try{if(s&&("object"==(void 0===s?"undefined":_typeof(s))||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){n(t,e)},i)}o[t]=s,0==--r&&e(o)}catch(t){i(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);for(var r=o.length,s=0;o.length>s;s++)n(s,o[s])})},e.resolve=function(t){return t&&"object"==(void 0===t?"undefined":_typeof(t))&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,i){i(t)})},e.race=function(t){return new e(function(e,i){for(var n=0,o=t.length;o>n;n++)t[n].then(e,i)})},e._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){a(t,0)},e._unhandledRejectionFn=function(t){void 0!==console&&console};var l=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==l)return l;throw Error("unable to locate global object")}();l.Promise||(l.Promise=e)}),function(){function t(t,e,i){return t.call.apply(t.bind,arguments)}function e(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function i(n,o,r){return i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?t:e,i.apply(null,arguments)}function n(t,e){this.a=t,this.m=e||t,this.c=this.m.document}function o(t,e,i,n){if(e=t.c.createElement(e),i)for(var o in i)i.hasOwnProperty(o)&&("style"==o?e.style.cssText=i[o]:e.setAttribute(o,i[o]));return n&&e.appendChild(t.c.createTextNode(n)),e}function r(t,e,i){t=t.c.getElementsByTagName(e)[0],t||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function s(t){t.parentNode&&t.parentNode.removeChild(t)}function a(t,e,i){e=e||[],i=i||[];for(var n=t.className.split(/\s+/),o=0;o<e.length;o+=1){for(var r=!1,s=0;s<n.length;s+=1)if(e[o]===n[s]){r=!0;break}r||n.push(e[o])}for(e=[],o=0;o<n.length;o+=1){for(r=!1,s=0;s<i.length;s+=1)if(n[o]===i[s]){r=!0;break}r||e.push(n[o])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function l(t,e){for(var i=t.className.split(/\s+/),n=0,o=i.length;n<o;n++)if(i[n]==e)return!0;return!1}function c(t){if("string"==typeof t.f)return t.f;var e=t.m.location.protocol;return"about:"==e&&(e=t.a.location.protocol),"https:"==e?"https:":"http:"}function u(t){return t.m.location.hostname||t.a.location.hostname}function d(t,e,i){function n(){c&&s&&a&&(c(l),c=null)}e=o(t,"link",{rel:"stylesheet",href:e,media:"all"});var s=!1,a=!0,l=null,c=i||null;nt?(e.onload=function(){s=!0,n()},e.onerror=function(){s=!0,l=Error("Stylesheet failed to load"),n()}):setTimeout(function(){s=!0,n()},0),r(t,"head",e)}function h(t,e,i,n){var r=t.c.getElementsByTagName("head")[0];if(r){var s=o(t,"script",{src:e}),a=!1;return s.onload=s.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,i&&i(null),s.onload=s.onreadystatechange=null,"HEAD"==s.parentNode.tagName&&r.removeChild(s))},r.appendChild(s),setTimeout(function(){a||(a=!0,i&&i(Error("Script load timeout")))},n||5e3),s}return null}function f(){this.a=0,this.c=null}function p(t){return t.a++,function(){t.a--,g(t)}}function m(t,e){t.c=e,g(t)}function g(t){0==t.a&&t.c&&(t.c(),t.c=null)}function v(t){this.a=t||"-"}function b(t,e){this.c=t,this.f=4,this.a="n";var i=(e||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function y(t){return x(t)+" "+t.f+"00 300px "+_(t.c)}function _(t){var e=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var n=t[i].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?e.push("'"+n+"'"):e.push(n)}return e.join(",")}function w(t){return t.a+t.f}function x(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function E(t){var e=4,i="n",n=null;return t&&((n=t.match(/(normal|oblique|italic)/i))&&n[1]&&(i=n[1].substr(0,1).toLowerCase()),(n=t.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?e=7:/[1-9]00/.test(n[1])&&(e=parseInt(n[1].substr(0,1),10)))),i+e}function A(t,e){this.c=t,this.f=t.m.document.documentElement,this.h=e,this.a=new v("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function C(t){t.g&&a(t.f,[t.a.c("wf","loading")]),L(t,"loading")}function S(t){if(t.g){var e=l(t.f,t.a.c("wf","active")),i=[],n=[t.a.c("wf","loading")];e||i.push(t.a.c("wf","inactive")),a(t.f,i,n)}L(t,"inactive")}function L(t,e,i){t.j&&t.h[e]&&(i?t.h[e](i.c,w(i)):t.h[e]())}function M(){this.c={}}function T(t,e,i){var n,o=[];for(n in e)if(e.hasOwnProperty(n)){var r=t.c[n];r&&o.push(r(e[n],i))}return o}function F(t,e){this.c=t,this.f=e,this.a=o(this.c,"span",{"aria-hidden":"true"},this.f)}function k(t){r(t.c,"body",t.a)}function D(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+_(t.c)+";font-style:"+x(t)+";font-weight:"+t.f+"00;"}function O(t,e,i,n,o,r){this.g=t,this.j=e,this.a=n,this.c=i,this.f=o||3e3,this.h=r||void 0}function P(t,e,i,n,o,r,s){this.v=t,this.B=e,this.c=i,this.a=n,this.s=s||"BESbswy",this.f={},this.w=o||3e3,this.u=r||null,this.o=this.j=this.h=this.g=null,this.g=new F(this.c,this.s),this.h=new F(this.c,this.s),this.j=new F(this.c,this.s),this.o=new F(this.c,this.s),t=new b(this.a.c+",serif",w(this.a)),t=D(t),this.g.a.style.cssText=t,t=new b(this.a.c+",sans-serif",w(this.a)),t=D(t),this.h.a.style.cssText=t,t=new b("serif",w(this.a)),t=D(t),this.j.a.style.cssText=t,t=new b("sans-serif",w(this.a)),t=D(t),this.o.a.style.cssText=t,k(this.g),k(this.h),k(this.j),k(this.o)}function N(){if(null===rt){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);rt=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return rt}function I(t,e,i){for(var n in ot)if(ot.hasOwnProperty(n)&&e===t.f[ot[n]]&&i===t.f[ot[n]])return!0;return!1}function V(t){var e,i=t.g.a.offsetWidth,n=t.h.a.offsetWidth;(e=i===t.f.serif&&n===t.f["sans-serif"])||(e=N()&&I(t,i,n)),e?it()-t.A>=t.w?N()&&I(t,i,n)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?B(t,t.v):B(t,t.B):U(t):B(t,t.v)}function U(t){setTimeout(i(function(){V(this)},t),50)}function B(t,e){setTimeout(i(function(){s(this.g.a),s(this.h.a),s(this.j.a),s(this.o.a),e(this.a)},t),0)}function R(t,e,i){this.c=t,this.a=e,this.f=0,this.o=this.j=!1,this.s=i}function j(t){0==--t.f&&t.j&&(t.o?(t=t.a,t.g&&a(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),L(t,"active")):S(t.a))}function H(t){this.j=t,this.a=new M,this.h=0,this.f=this.g=!0}function z(t,e,n,o,r){var s=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=r||null,l=o||null||{};if(0===n.length&&s)S(e.a);else{e.f+=n.length,s&&(e.j=s);var c,u=[];for(c=0;c<n.length;c++){var d=n[c],h=l[d.c],f=e.a,p=d;f.g&&a(f.f,[f.a.c("wf",p.c,w(p).toString(),"loading")]),L(f,"fontloading",p),f=null,null===st&&(st=!!window.FontFace&&(!(p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent))||42<parseInt(p[1],10))),f=st?new O(i(e.g,e),i(e.h,e),e.c,d,e.s,h):new P(i(e.g,e),i(e.h,e),e.c,d,e.s,t,h),u.push(f)}for(c=0;c<u.length;c++)u[c].start()}},0)}function W(t,e,i){var n=[],o=i.timeout;C(e);var n=T(t.a,i,t.c),r=new R(t.c,e,o);for(t.h=n.length,e=0,i=n.length;e<i;e++)n[e].load(function(e,i,n){z(t,r,e,i,n)})}function G(t,e){this.c=t,this.a=e}function Y(t,e,i){var n=c(t.c);return t=(t.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,""),n+"//"+t+"/"+e+".js"+(i?"?v="+i:"")}function K(t,e){this.c=t,this.a=e}function $(t,e,i){this.c=t||e+at,this.a=[],this.f=[],this.g=i||""}function X(t,e){for(var i=e.length,n=0;n<i;n++){var o=e[n].split(":");3==o.length&&t.f.push(o.pop());var r="";2==o.length&&""!=o[1]&&(r=":"),t.a.push(o.join(r))}}function q(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,i=[],n=0;n<e;n++)i.push(t.a[n].replace(/ /g,"+"));return e=t.c+"?family="+i.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}function Q(t){this.f=t,this.a=[],this.c={}}function Z(t){for(var e=t.f.length,i=0;i<e;i++){var n=t.f[i].split(":"),o=n[0].replace(/\+/g," "),r=["n4"];if(2<=n.length){var s,a=n[1];if(s=[],a)for(var a=a.split(","),l=a.length,c=0;c<l;c++){var u;if(u=a[c],u.match(/^[\w-]+$/)){var d=dt.exec(u.toLowerCase());if(null==d)u="";else{if(u=d[2],u=null==u||""==u?"n":ut[u],null==(d=d[1])||""==d)d="4";else var h=ct[d],d=h||(isNaN(d)?"4":d.substr(0,1));u=[u,d].join("")}}else u="";u&&s.push(u)}0<s.length&&(r=s),3==n.length&&(n=n[2],s=[],n=n?n.split(","):s,0<n.length&&(n=lt[n[0]])&&(t.c[o]=n))}for(t.c[o]||(n=lt[o])&&(t.c[o]=n),n=0;n<r.length;n+=1)t.a.push(new b(o,r[n]))}}function J(t,e){this.c=t,this.a=e}function tt(t,e){this.c=t,this.a=e}function et(t,e){this.c=t,this.f=e,this.a=[]}var it=Date.now||function(){return+new Date},nt=!!window.FontFace;v.prototype.c=function(t){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},O.prototype.start=function(){var t=this.c.m.document,e=this,i=it(),n=new Promise(function(n,o){function r(){it()-i>=e.f?o():t.fonts.load(y(e.a),e.h).then(function(t){1<=t.length?n():setTimeout(r,25)},function(){o()})}r()}),o=new Promise(function(t,i){setTimeout(i,e.f)});Promise.race([o,n]).then(function(){e.g(e.a)},function(){e.j(e.a)})};var ot={D:"serif",C:"sans-serif"},rt=null;P.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.o.a.offsetWidth,this.A=it(),V(this)};var st=null;R.prototype.g=function(t){var e=this.a;e.g&&a(e.f,[e.a.c("wf",t.c,w(t).toString(),"active")],[e.a.c("wf",t.c,w(t).toString(),"loading"),e.a.c("wf",t.c,w(t).toString(),"inactive")]),L(e,"fontactive",t),this.o=!0,j(this)},R.prototype.h=function(t){var e=this.a;if(e.g){var i=l(e.f,e.a.c("wf",t.c,w(t).toString(),"active")),n=[],o=[e.a.c("wf",t.c,w(t).toString(),"loading")];i||n.push(e.a.c("wf",t.c,w(t).toString(),"inactive")),a(e.f,n,o)}L(e,"fontinactive",t),j(this)},H.prototype.load=function(t){this.c=new n(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,W(this,new A(this.c,t),t)},G.prototype.load=function(t){function e(){if(r["__mti_fntLst"+n]){var i,o=r["__mti_fntLst"+n](),s=[];if(o)for(var a=0;a<o.length;a++){var l=o[a].fontfamily;void 0!=o[a].fontStyle&&void 0!=o[a].fontWeight?(i=o[a].fontStyle+o[a].fontWeight,s.push(new b(l,i))):s.push(new b(l))}t(s)}else setTimeout(function(){e()},50)}var i=this,n=i.a.projectId,o=i.a.version;if(n){var r=i.c.m;h(this.c,Y(i,n,o),function(o){o?t([]):(r["__MonotypeConfiguration__"+n]=function(){return i.a},e())}).id="__MonotypeAPIScript__"+n}else t([])},K.prototype.load=function(t){var e,i,n=this.a.urls||[],o=this.a.families||[],r=this.a.testStrings||{},s=new f;for(e=0,i=n.length;e<i;e++)d(this.c,n[e],p(s));var a=[];for(e=0,i=o.length;e<i;e++)if(n=o[e].split(":"),n[1])for(var l=n[1].split(","),c=0;c<l.length;c+=1)a.push(new b(n[0],l[c]));else a.push(new b(n[0]));m(s,function(){t(a,r)})};var at="//fonts.googleapis.com/css",lt={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},ct={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ut={i:"i",italic:"i",n:"n",normal:"n"},dt=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,ht={Arimo:!0,Cousine:!0,Tinos:!0};J.prototype.load=function(t){var e=new f,i=this.c,n=new $(this.a.api,c(i),this.a.text),o=this.a.families;X(n,o);var r=new Q(o);Z(r),d(i,q(n),p(e)),m(e,function(){t(r.a,r.c,ht)})},tt.prototype.load=function(t){var e=this.a.id,i=this.c.m;e?h(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){e=i.Typekit.config.fn;for(var n=[],o=0;o<e.length;o+=2)for(var r=e[o],s=e[o+1],a=0;a<s.length;a++)n.push(new b(r,s[a]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(n)}},2e3):t([])},et.prototype.load=function(t){var e=this.f.id,i=this.c.m,n=this;e?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[e]=function(e,i){for(var o=0,r=i.fonts.length;o<r;++o){var s=i.fonts[o];n.a.push(new b(s.name,E("font-weight:"+s.weight+";font-style:"+s.style)))}t(n.a)},h(this.c,c(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+u(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var ft=new H(window);ft.a.c.custom=function(t,e){return new K(e,t)},ft.a.c.fontdeck=function(t,e){return new et(e,t)},ft.a.c.monotype=function(t,e){return new G(e,t)},ft.a.c.typekit=function(t,e){return new tt(e,t)},ft.a.c.google=function(t,e){return new J(e,t)},window.WebFont={load:i(ft.load,ft)},window.WebFontConfig&&ft.load(window.WebFontConfig)}(),function(){function t(t,e,i){return i.indexOf(t)===e}function e(e,i){function n(){if(r.length){for(var t=[],e=[],n=0,a=r.length;n<a;n++)for(h in s){var l=s[h].indexOf(r[n]);if(l>-1){s[h][l+1]&&(t.push(o[h].links.shift()),e.push(o[h].fams.shift()));break}}t[0]?(f.custom.families=e,f.custom.urls=t,WebFont.load(f)):i.fontsLoaded=!0,r=[]}else i.fontsLoaded=!0;i.dispatchEvent(new CustomEvent("ready"))}var o={},r=[],s={en:["Netflix Sans"],he:["Noto Sans Hebrew","Assistant","Rubik"],th:["Neue Helvetica Thai","Prompt"],ar:["Neue Helvetica Arab","Changa","Droid Arabic Kufi"]};e=e.filter(t);for(var a=0,l=e.length;a<l;a++){switch(e[a]){case"he":o.he={links:["https://fonts.googleapis.com/earlyaccess/notosanshebrew.css","https://fonts.googleapis.com/css?family=Assistant:400,600,700&subset=hebrew","https://fonts.googleapis.com/css?family=Rubik:400,700&subset=hebrew"],fams:s.he.slice()};break;case"th":o.th={links:["https://ae.nflximg.net/monet/fonts/thai/neuehelveticathai.css","https://fonts.googleapis.com/css?family=Prompt:400,600,700&subset=thai"],fams:s.th.slice()};break;case"ar":o.ar={links:["https://ae.nflximg.net/monet/fonts/arabic/neuehelveticaarabic.css","https://fonts.googleapis.com/css?family=Changa:400,600,700&subset=arabic","https://fonts.googleapis.com/earlyaccess/droidarabickufi.css"],fams:s.ar.slice()}}}o.en={links:["https://ae.nflximg.net/monet/fonts/netflixsans.css"],fams:s.en.slice()};var c=[],u=[];for(var a in o){var d=o[a].links.shift(),h=o[a].fams.shift();d&&(c.push(d),u.push(h))}var f={custom:{families:u,urls:c},timeout:2e3,active:n.bind(i),inactive:n.bind(i),fontinactive:function(t){r.push(t)}};WebFont.load(f)}if(document.registerElement){var i=Object.create(HTMLElement.prototype,{attachedCallback:{value:function(){var t=this;Utils.createStyle.call(t,"",".en, .da, .nl, .fi, .fr, .de, .it, .no, .pt, .ro, .es, .sv, .tr, .pl, .el","font-family: 'Netflix Sans', Helvetica, Arial, sans-serif;",".zh","-webkit-locale: 'zh'; font-family: 'Netflix Sans', 'Microsoft JhengHei UI', '', 'Heiti TC', '-', Arial, Helvetica, sans-serif;",".ja","-webkit-locale: 'ja'; font-family: 'Netflix Sans', 'Yu Gothic Medium', 'Hiragino Kaku Gothic Pro', '', Arial, Helvetica, sans-serif;",".ko","-webkit-locale: 'ko'; font-family: 'Netflix Sans', 'Malgun Gothic', ' ', 'Apple SD Gothic Neo', ' SD  Neo', Arial, Helvetica, sans-serif;",".ar","font-family: 'Netflix Sans', 'Neue Helvetica Arab', 'Changa', 'Droid Arabic Kufi', Arial, sans-serif;",".th","font-family: 'Netflix Sans', 'Neue Helvetica Thai', 'Prompt', Arial, sans-serif;",".th .cta_copy","margin-top: -2px;",".he","font-family: 'Netflix Sans', 'Noto Sans Hebrew', 'Assistant', 'Rubik', Arial, sans-serif;");var i=[],n=this.getAttribute("locale")?[this.getAttribute("locale")]:null,o=document.querySelector("monet-integrator");o&&(o.register(this),o.getMonetData().then(function(r){try{for(var s in r.rootAssets)"text"===s.split(".")[0]&&i.push(Monet.getComponentLocale(s).substr(0,2));e(n||i,t)}catch(s){o.getBackupMonetData().then(function(){for(var o in r.rootAssets)"text"===o.split(".")[0]&&i.push(Monet.getComponentLocale(o).substr(0,2));e(n||i,t)},function(t){Monet.logEvent("MONET_DATA_ERROR",{details:"Failed to load backup Monet data",stack:t})})}}))}},preview:{value:function(){return!1}}});document.registerElement("netflix-fonts",{prototype:i})}}(),module.exports={id:"338cb667-aeb7-4b00-bb9f-76025b6c20b6",name:"wc-netflix-fonts",description:"Netflix Font Loader Component",type:"web_components",context:"Default",state:"published",updated:1526059311385,full_name:"NetflixAdsEng/wc-netflix-fonts",html_url:"https://github.com/NetflixAdsEng/wc-netflix-fonts",username:"GitHub",version:"2.0.3"},module.exports={id:"310ca301-271b-40cd-859b-21f9350869d5",name:"pk-component-utils",description:"JS include containing common web-component utilities.",type:"packages",context:"Default",state:"published",updated:1526055511e3,full_name:"NetflixAdsEng/pk-component-utils",html_url:"https://github.com/NetflixAdsEng/pk-component-utils",username:"GitHub",version:"3.0.0"},window.Utils=window.Utils||{},Utils.createStyle=function(t,e){var i=t+"-component-stylesheet",n=document.getElementById(i)||this.stylesheet;n||(n=document.createElement("style"),n.type="text/css",n.id=i,this.appendChild(n));for(var o=n.innerHTML,r=0;r<arguments.length-1;r+=2){var s=arguments[r+1],a=" ";Array.isArray(s)&&(!0===s[1]&&(a=""),s=s[0]);var l=s.replace(/\,\s+/g,",");o+=t+a,o+=l,o+=" { "+(arguments[r+2]||"")+" }\n"}n.innerHTML=o,this.stylesheet=n},window.Utils=window.Utils||{},Utils.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Utils.isiOS=/iPad|iPhone|iPod/.test(navigator.userAgent),Utils.isiOS9up=Utils.isiOS&&navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]>9,Utils.isiPad=/iPad/.test(navigator.userAgent),Utils.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),window.Utils=window.Utils||{},Utils.SvgIcon=function(t,e,i){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttributeNS(null,"d",e),n.setAttribute("data-original",e),void 0!=i&&n.setAttribute("fill",i),n.setAttribute("class",t||""),n},window.Utils=window.Utils||{},Utils.textFit=function(t,e){function i(t,e){return-1<(" "+t.className+" ").indexOf(" "+e+" ")}var n={alignVert:!1,alignHoriz:!1,multiLine:!1,detectMultiLine:!0,minFontSize:6,maxFontSize:80,reProcess:!0,widthOnly:!1,alignVertWithFlexbox:!1};e||(e={});var o,r={};for(o in n)e.hasOwnProperty(o)?r[o]=e[o]:r[o]=n[o];for("function"==typeof t.toArray&&(t=t.toArray()),n=Object.prototype.toString.call(t),"[object Array]"!==n&&"[object NodeList]"!==n&&"[object HTMLCollection]"!==n&&(t=[t]),n=0;n<t.length;n++)!function(t,e){if(!("object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?t instanceof HTMLElement:t&&"object"===(void 0===t?"undefined":_typeof(t))&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)||!e.reProcess&&t.getAttribute("textFitted"))return!1;e.reProcess||t.setAttribute("textFitted",1);var n,o=t.innerHTML,r=window.getComputedStyle(t,null),s=t.clientWidth-parseInt(r.getPropertyValue("padding-left"),10)-parseInt(r.getPropertyValue("padding-right"),10);r=window.getComputedStyle(t,null);var a=t.clientHeight-parseInt(r.getPropertyValue("padding-top"),10)-parseInt(r.getPropertyValue("padding-bottom"),10);if(!s||!e.widthOnly&&!a){if(e.widthOnly)throw Error("Set a static width on the target element "+t.outerHTML+" before using textFit!");throw Error("Set a static height and width on the target element "+t.outerHTML+" before using textFit!")}for(-1===o.indexOf("textFitted")?(r=document.createElement("span"),r.className="textFitted",r.style.display="inline-block",r.innerHTML=o,t.innerHTML="",t.appendChild(r)):(r=t.querySelector("span.textFitted"),i(r,"textFitAlignVert")&&(r.className=r.className.replace("textFitAlignVert",""),r.style.height="",t.className.replace("textFitAlignVertFlex",""))),e.alignHoriz&&(t.style["text-align"]="center",r.style["text-align"]="center"),o=e.multiLine,e.detectMultiLine&&!o&&r.scrollHeight>=2*parseInt(window.getComputedStyle(r)["font-size"],10)&&(o=!0),o||(t.style["white-space"]="nowrap"),o=e.minFontSize+1,n=e.maxFontSize+1;o<=n;){var l=parseInt((o+n)/2,10);r.style.fontSize=l+"px",r.scrollWidth<=s&&(e.widthOnly||r.scrollHeight<=a)?o=l+1:n=l-1}r.style.fontSize=l-1+"px",e.alignVert&&(document.getElementById("textFitStyleSheet")||(l=document.createElement("style"),l.type="text/css",l.id="textFitStyleSheet",l.innerHTML=".textFitAlignVert{position: absolute;top: 0; right: 0; bottom: 0; left: 0;margin: auto;display: flex;justify-content: center;flex-direction: column;}.textFitAlignVertFlex{display: flex;}.textFitAlignVertFlex .textFitAlignVert{position: static;}",document.body.appendChild(l)),l=r.scrollHeight,"static"===window.getComputedStyle(t).position&&(t.style.position="relative"),i(r,"textFitAlignVert")||(r.className+=" textFitAlignVert"),r.style.height=l+"px",e.alignVertWithFlexbox&&!i(t,"textFitAlignVertFlex")&&(t.className+=" textFitAlignVertFlex"))}(t[n],r)},"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;i<n;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}():function(t){if("Element"in t){var e="classList",i="prototype",n=t.Element[i],o=Object,r=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[i].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(t,e)},c=function(t){for(var e=r.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],n=0,o=i.length;n<o;n++)this.push(i[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=c[i]=[],d=function(){return new c(this)};if(a[i]=Error[i],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",-1!==l(this,t)},u.add=function(){var t,e=arguments,i=0,n=e.length,o=!1;do{t=e[i]+"",-1===l(this,t)&&(this.push(t),o=!0)}while(++i<n);o&&this._updateClassName()},u.remove=function(){var t,e,i=arguments,n=0,o=i.length,r=!1;do{for(t=i[n]+"",e=l(this,t);-1!==e;)this.splice(e,1),r=!0,e=l(this,t)}while(++n<o);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var i=this.contains(t),n=i?!0!==e&&"remove":!1!==e&&"add";return n&&this[n](t),!0===e||!1===e?e:!i},u.toString=function(){return this.join(" ")},o.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{o.defineProperty(n,e,h)}catch(t){-2146823252===t.number&&(h.enumerable=!1,o.defineProperty(n,e,h))}}else o[i].__defineGetter__&&n.__defineGetter__(e,d)}}(self)),function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}(),function(t,e){"object"==_typeof(exports)&&void 0!==module?e():(__WEBPACK_AMD_DEFINE_FACTORY__=e,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(0,function(){function t(){}function e(t){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(t,this)}function i(t,i){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,e._immediateFn(function(){var e=1===t._state?i.onFulfilled:i.onRejected;if(null!==e){var r;try{r=e(t._value)}catch(t){return void o(i.promise,t)}n(i.promise,r)}else(1===t._state?n:o)(i.promise,t._value)})):t._deferreds.push(i)}function n(t,i){try{if(i===t)throw new TypeError("A promise cannot be resolved with itself.");if(i&&("object"==(void 0===i?"undefined":_typeof(i))||"function"==typeof i)){var n=i.then;if(i instanceof e)return t._state=3,t._value=i,void r(t);if("function"==typeof n)return void s(function(t,e){return function(){t.apply(e,arguments)}}(n,i),t)}t._state=1,t._value=i,r(t)}catch(e){o(t,e)}}function o(t,e){t._state=2,t._value=e,r(t)}function r(t){2===t._state&&0===t._deferreds.length&&e._immediateFn(function(){t._handled||e._unhandledRejectionFn(t._value)});for(var n=0,o=t._deferreds.length;o>n;n++)i(t,t._deferreds[n]);t._deferreds=null}function s(t,e){var i=!1;try{t(function(t){i||(i=!0,n(e,t))},function(t){i||(i=!0,o(e,t))})}catch(t){if(i)return;i=!0,o(e,t)}}var a=setTimeout;e.prototype.catch=function(t){return this.then(null,t)},e.prototype.then=function(e,n){var o=new this.constructor(t);return i(this,new function(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}(e,n,o)),o},e.prototype.finally=function(t){var e=this.constructor;return this.then(function(i){return e.resolve(t()).then(function(){return i})},function(i){return e.resolve(t()).then(function(){return e.reject(i)})})},e.all=function(t){return new e(function(e,i){function n(t,s){try{if(s&&("object"==(void 0===s?"undefined":_typeof(s))||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){n(t,e)},i)}o[t]=s,0==--r&&e(o)}catch(t){i(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);for(var r=o.length,s=0;o.length>s;s++)n(s,o[s])})},e.resolve=function(t){return t&&"object"==(void 0===t?"undefined":_typeof(t))&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,i){i(t)})},e.race=function(t){return new e(function(e,i){for(var n=0,o=t.length;o>n;n++)t[n].then(e,i)})},e._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){a(t,0)},e._unhandledRejectionFn=function(t){void 0!==console&&console};var l=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==l)return l;throw Error("unable to locate global object")}();l.Promise||(l.Promise=e)}),function(){var t="netflix-video";window.Utils=function(t){return t.tracker=function(t,e,i){if(this.suppressLog)return void(this.suppressLog=!1);if("undefined"!=typeof Monet&&Monet.logEvent(t,{url:e,pos:i.time}),"undefined"!=typeof Enabler)switch(t){case"VIDEO_FIRST_QUART":Enabler.counter("VIDEO_FIRST_QUART");break;case"VIDEO_SECOND_QUART":Enabler.counter("VIDEO_SECOND_QUART");break;case"VIDEO_THIRD_QUART":Enabler.counter("VIDEO_THIRD_QUART");break;case"VIDEO_PLAY":Enabler.counter("VIDEO_PLAY");break;case"VIDEO_COMPLETE":Enabler.counter("VIDEO_COMPLETE");break;case"VIDEO_PAUSE":Enabler.counter("VIDEO_PAUSE");break;case"VIDEO_STOP":Enabler.counter("VIDEO_STOP");break;case"VIDEO_UNMUTE":Enabler.counter("VIDEO_UNMUTE");break;case"VIDEO_MUTE":Enabler.counter("VIDEO_MUTE")}},t.isAutoplayAvailable=function(){if(!this.isMobile)return!0;if(this.isiOS){if(this.isSafari){if(this.isiPad)var t=Number(navigator.userAgent.split("iPad")[1].split(" ")[3].replace("_","."));else var t=navigator.userAgent.split("iPhone OS ")[1].split(" ")[0].split("_")[0];return t>=10}return!1}return!0},t.timeFormat=function(t){var e=parseInt(t,10),i=Math.floor(e/3600),n=Math.floor((e-3600*i)/60),o=e-3600*i-60*n;return n<10&&(n=n),o<10&&(o="0"+o),(n||0)+":"+(o||"00")},t.hide=function(t){t.classList.add("hide")},t.show=function(t){t.classList.remove("hide")},t}(window.Utils||{});var e=function(t,e){function i(t,e){this._id=t,this.id=t,this.title=e.sources[t].split("/").pop().split(".")[0],this.plays=0,this.completed=0,this.layers=[],this.source=e.sources[t],this.customControls=e.customControls[t]||!1,this.controls=void 0===e.controls[t]||e.controls[t],this.muted=e.muted[t]||!1,this.hideOnComplete=e.hideOnComplete[t]||!1}return i.prototype.hasBeenPlayed=function(){return Boolean(this.plays)},i}(),i=function(i,n){function o(i,n){function o(){this.id=0,this.video_id=this.component.getAttribute("video_id"),this.PlayerState={ENDED:"ended",PLAYING:"loadeddata",PAUSED:"pause",CUED:"loadstart",BUFFERING:"play",LOADED:"loadeddata",VOLUME:"volumechange"},this._video=document.createElement("video"),this._video.width=(this.config.size[0],this.config.size[0].width),this._video.height=(this.config.size[0],this.config.size[0].height),this._video.addEventListener("ended",g.bind(this)),this._video.addEventListener("play",g.bind(this)),this._video.addEventListener("pause",g.bind(this)),this._video.addEventListener("volumechange",g.bind(this)),this._video.addEventListener("loadeddata",g.bind(this)),this.spinner=document.createElement("div"),this.wrapper.insertBefore(this.spinner,this.wrapper.firstChild),this.spinner.classList.add("spinner"),this.spinner.innerHTML='<svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg"> <defs> <linearGradient x1="8.042%" y1="0%" x2="65.682%" y2="23.865%" id="a"> <stop stop-color="#fff" stop-opacity="0" offset="0%"/> <stop stop-color="#fff" stop-opacity=".631" offset="63.146%"/> <stop stop-color="#fff" offset="100%"/> </linearGradient> </defs> <g fill="none" fill-rule="evenodd"> <g transform="translate(1 1)"> <path d="M36 18c0-9.94-8.06-18-18-18" id="Oval-2" stroke="url(#a)" stroke-width="2"> <animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="0.9s" repeatCount="indefinite"/> </path> <circle fill="#fff" cx="36" cy="18" r="1"> <animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="0.9s" repeatCount="indefinite"/> </circle> </g> </g></svg>',Utils.createStyle.call(this.component,t,".spinner","position:absolute;top:50%;left:50%;width:38px;height:38px;transform:translate(-50%,-50%)"),this._video.removeAttribute("controls"),this.container.appendChild(this._video),this.video={cueVideoById:function(t){var e=document.getElementsByTagName("html")[0],i=e.hasAttribute("monet-inception-pristine-element");"undefined"==typeof Enabler||i?this._video.src=t:this._video.src=Enabler.getUrl(t)}.bind(this),getDuration:function(){return this._video.duration}.bind(this),getCurrentTime:function(){return this._video.currentTime}.bind(this),isMuted:function(){return this._video.muted}.bind(this),pauseVideo:function(){this._video.pause()}.bind(this),playVideo:function(){this._video.play()}.bind(this),unMute:function(){this._video.muted=!1}.bind(this),mute:function(){this._video.muted=!0}.bind(this),seekTo:function(t){this._video.currentTime=t}.bind(this)},this.resize(),p.call(this),this.hide(),Utils.isAutoplayAvailable()&&!0===this.config.autoplay&&("undefined"!=typeof gwd?(this.show(),this.setSource(0),this._video.setAttribute("autoplay",""),Utils.isMobile&&(this._video.setAttribute("playsinline",""),this._video.setAttribute("muted",""))):this.play(0)),"undefined"!=typeof Enabler&&Enabler.loadModule(studio.module.ModuleId.VIDEO,function(){studio.video.Reporter.attach("Video "+this.video_id,this._video)}.bind(this))}function r(){Utils.createStyle.call(this.component,t,".hide","border: 0 !important;clip: rect(0 0 0 0) !important;height: 1px !important;margin: -1px !important;overflow: hidden !important;padding: 0 !important;position: absolute !important;width: 1px !important;",[".hide",!0],"border: 0 !important;clip: rect(0 0 0 0) !important;height: 1px !important;margin: -1px !important;overflow: hidden !important;padding: 0 !important;position: absolute !important;width: 1px !important;",".netflix-video","background-color:#000; position: absolute; top: 0; left: 0;",".netflix-video .netflix-video-container","position:absolute;top:0;left:0;",".netflix-video .videoClick","position:absolute;top:0;left:0;cursor:pointer;width:100%;height:100%;background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);",".netflix-video .close","position:absolute;top:10px;left:10px;z-index:15;cursor:pointer;width:"+this.config.closeButtonSize+"px;height:"+this.config.closeButtonSize+"px;overflow:hidden;",".netflix-video .videoPanels","width:100%;height:100%;position:absolute;pointer-events:none;",".netflix-video .iVideoPanels","width:0;height:0;position:absolute;",".netflix-video .controls","z-index:12;position:absolute;bottom:1px;width:100%;",".netflix-video .playButton.v_icon","margin-left:5px;",".netflix-video .v_icon","width:25px;height:25px;float:left;cursor:pointer;",".netflix-video .timer","float:left;font-family:Arial,sans-serif;font-weight:700;font-size:12px;letter-spacing:1px;text-shadow:0 1px 2px rgba(0,0,0,.5);line-height:26px;margin-left:9px;pointer-events:none;")}function s(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.setAttribute("width","25px"),i.setAttribute("height","25px"),i.setAttribute("viewBox","0 0 50 50"),i.id=t||"",i.hover=e,i}function a(){var t=20,e=document.createElement("div"),i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width","20px"),i.setAttribute("height","20px"),i.fill=new Utils.SvgIcon("closeButtonFill","M0,10a10,10 0 1,0 20,0a10,10 0 1,0 -20,0",this.config.closeColors[0]);var n=Math.round(14),o=t-n;return i.cross=new Utils.SvgIcon("line1","M"+o+" "+o+" L"+n+" "+n+" M"+n+" "+o+" L"+o+" "+n),i.cross.setAttribute("stroke",this.config.closeColors[1]),i.cross.setAttribute("stroke-width",2),i.appendChild(i.fill),i.appendChild(i.cross),e.appendChild(i),e}function l(){this.controls=document.createElement("div"),TweenMax.set(this.controls,{y:this.config.contolsOffsetY}),this.bar=document.createElement("div"),this.bar.classList.add("bar"),this.bar.innerHTML='<div class="track"></div>',this.barFill=document.createElement("div"),this.barFill.classList.add("fill"),this.barFill.style.backgroundColor=this.config.colors[0],this.barIndicator=document.createElement("div"),this.barIndicator.classList.add("indicator"),this.barIndicator.style.backgroundColor=this.config.colors[0],this.bar.appendChild(this.barFill),this.bar.appendChild(this.barIndicator),Utils.hide(this.barIndicator),Utils.hide(this.bar),Utils.createStyle.call(this.component,t,".bar","height:15px; position: absolute; top: -10px; left: 10px; cursor:pointer;",".bar .track","width:100%;height:1px; background-color: "+this.config.colors[1]+";position: absolute; top: 10px; left: 0;",".bar .fill","height:1px; position: absolute; top: 10px; left: 0;",".bar .indicator","width:10px;height:10px; border-radius:5px; position: absolute; top: 5px; left: 0px;background-color:"+this.config.colors[1]+";pointer-events: none;"),this.config.controlsAutoHide&&(this.controls.addEventListener("mouseover",function(){TweenMax.to(this.controls,.3,{alpha:1,ease:Cubic.easeOut})}.bind(this)),this.controls.addEventListener("mouseout",function(){this.playing&&TweenMax.to(this.controls,1,{alpha:0,ease:Cubic.easeOut})}.bind(this)),this.clickArea.addEventListener("mouseover",function(){TweenMax.to(this.controls,.3,{alpha:1,ease:Cubic.easeOut})}.bind(this)),this.clickArea.addEventListener("mouseout",function(){this.playing&&TweenMax.to(this.controls,1,{alpha:0,ease:Cubic.easeOut})}.bind(this))),this.bar.addEventListener("click",function(t){var e=t.offsetX/this.bar.getBoundingClientRect().width;this.seek(this.video.getDuration()*e)}.bind(this)),this.bar.addEventListener("mouseover",function(){Utils.show(this.barIndicator),this.barFill.seeking=!0,this.barFill.current=this.barFill.style.width}.bind(this)),this.bar.addEventListener("mouseout",function(){this.barFill.seeking=!1,Utils.hide(this.barIndicator),this.barFill.style.width=this.barFill.current}.bind(this)),this.bar.addEventListener("mousemove",function(t){t.offsetX<this.bar.getBoundingClientRect().width-6&&t.offsetX>6&&TweenMax.set(this.barIndicator,{x:t.offsetX-6});var e=t.offsetX/this.bar.getBoundingClientRect().width*100;TweenMax.set(this.barFill,{width:e+"%"})}.bind(this)),this.playButton=new s(null,"M16,15 L16,35 24,30 24,19 M24,19 L24,30 35,25 35,25"),this.playButton.icon=new Utils.SvgIcon("svgIcon","M16,15 L16,36 23,36 23,15 M28,15 L28,36 35,36 35,15",this.config.colors[0]),this.playButton.appendChild(this.playButton.icon),this.playButton.tween={play:function(){this.icon.setAttributeNS(null,"d",this.hover)}.bind(this.playButton),reverse:function(){this.icon.setAttributeNS(null,"d",this.icon.getAttribute("data-original"))}.bind(this.playButton)},this.muteButton=new s(null,"M35,20 L46,31 M35,31 L46,20"),this.muteButton.fill=new Utils.SvgIcon("","M13,20 L13,31 21,31 29,37 31,37 31,14 29,14 21,20 13,20 M35,20 L45,30",this.config.colors[0]),this.muteButton.appendChild(this.muteButton.fill),this.muteButton.icon=new Utils.SvgIcon("svgIcon","M35,20 A5,5 0 0,1 35,31",this.config.colors[0]),this.muteButton.icon.setAttribute("stroke",this.config.colors[0]),this.muteButton.icon.setAttribute("stroke-width","3"),this.muteButton.icon.setAttribute("fill-opacity","0"),this.muteButton.appendChild(this.muteButton.icon),this.muteButton.tween={play:function(){this.icon.setAttributeNS(null,"d",this.hover)}.bind(this.muteButton),reverse:function(){this.icon.setAttributeNS(null,"d",this.icon.getAttribute("data-original"))}.bind(this.muteButton)},this.timerView=document.createElement("div"),this.playButton.classList.add("playButton"),this.playButton.classList.add("v_icon"),this.muteButton.classList.add("muteButton"),this.muteButton.classList.add("v_icon"),this.timerView.className="timer",this.timerView.style.color=this.config.colors[0],this.controls.classList.add("controls"),this.controls.appendChild(this.playButton),this.controls.appendChild(this.muteButton),this.controls.appendChild(this.timerView),this.controls.appendChild(this.bar),this.wrapper.appendChild(this.controls),Utils.isiOS&&Utils.hide(this.muteButton),this.playButton.addEventListener("click",c.bind(this)),this.playButton.addEventListener("mouseover",function(){TweenMax.to(this.playButton.icon,.2,{fill:this.config.colors[1],ease:Quad.easeOut})}.bind(this)),this.playButton.addEventListener("mouseout",function(){TweenMax.to(this.playButton.icon,.2,{fill:this.config.colors[0],ease:Quad.easeOut})}.bind(this)),this.muteButton.addEventListener("click",u.bind(this)),this.muteButton.addEventListener("mouseover",function(){TweenMax.to(this.muteButton.icon,.2,{fill:this.config.colors[1],stroke:this.config.colors[1],ease:Quad.easeOut}),TweenMax.to(this.muteButton.fill,.2,{fill:this.config.colors[1],ease:Quad.easeOut})}.bind(this)),this.muteButton.addEventListener("mouseout",function(){TweenMax.to(this.muteButton.icon,.2,{stroke:this.config.colors[0],ease:Quad.easeOut}),TweenMax.to(this.muteButton.fill,.2,{fill:this.config.colors[0],ease:Quad.easeOut})}.bind(this)),this.config.customControlsMobile&&TweenMax.set([this.playButton,this.muteButton],{scale:1.5}),this.playButton.classList.remove("pause"),this.playButton.tween.play()}function c(){this._video.paused?this.resume():(this.pause(),Utils.tracker("VIDEO_PAUSE",this.currentVideo.source,{time:this.video.getCurrentTime()}))}function u(){this.video.isMuted()?this.unmute():this.mute()}function d(){clearInterval(this.timer),this.playing=!0,this.component.playing=!0,this.timer=setInterval(function(){h.call(this)}.bind(this),10),h.call(this)}function h(){if(this.video.getDuration()){f.call(this);var t=this.video.getCurrentTime()/this.video.getDuration();this.barFill.seeking||(this.barFill.style.width=100*t+"%")}switch(this.component.dispatch("video-time",{currentTime:this.video.getCurrentTime(),duration:this.video.getDuration()||0,target:this.component}),Math.round(100*t)){case 25:this.currentVideo.firstQuart||(Utils.tracker("VIDEO_FIRST_QUART",this.currentVideo.source,{time:this.video.getCurrentTime()}),this.currentVideo.firstQuart=!0);break;case 50:this.currentVideo.secondQuart||(Utils.tracker("VIDEO_SECOND_QUART",this.currentVideo.source,{time:this.video.getCurrentTime()}),this.currentVideo.secondQuart=!0);break;case 75:this.currentVideo.thirdQuart||(Utils.tracker("VIDEO_THIRD_QUART",this.currentVideo.source,{time:this.video.getCurrentTime()}),this.currentVideo.thirdQuart=!0)}}function f(t){this.timerView.innerHTML=this.timerView.innerHTML=Utils.timeFormat(t||Math.round(this.video.getCurrentTime()))+" / "+Utils.timeFormat(Math.round(this.video.getDuration()))}function p(){this.clickArea.addEventListener("click",m.bind(this)),this.closeButton.addEventListener("click",this.close.bind(this)),this.closeButton.addEventListener("mouseover",function(){TweenMax.to(this.closeButtonSvg.fill,.3,{fill:this.config.closeColors[1],ease:Quad.easeOut}),this.closeButtonSvg.cross.setAttribute("stroke",this.config.closeColors[0])}.bind(this)),this.closeButton.addEventListener("mouseout",function(){TweenMax.to(this.closeButtonSvg.fill,.3,{fill:this.config.closeColors[0],ease:Quad.easeOut}),this.closeButtonSvg.cross.setAttribute("stroke",this.config.closeColors[1])}.bind(this))}function m(){this.component.dispatch("video-click")}function g(t){switch(void 0!=t.data?t.data:t.type){case"ended":this.active=!1,v.call(this);break;case"loadeddata":this.active&&!this.initPlay||(this.initPlay=!1,b.call(this)),this.active=!0;break;case"pause":this.component.dispatch("video-pause"),y.call(this);break;case"play":this.ended&&b.call(this),this.ended=!1,Utils.tracker("VIDEO_PLAY",this.currentVideo.source,{time:this.video.getCurrentTime()}),this.component.dispatch("video-play")}}function v(){this.currentVideo.hideOnComplete&&this.hide(),this.stopTimer(),this.initPlay=!0,this.ended=!0,this.playing=!1,this.playButton.classList.remove("pause"),this.playButton.tween.play(),this.barFill.style.width="100%",this.barFill.current=this.barFill.style.width,Utils.tracker("VIDEO_COMPLETE",this.currentVideo.source,{time:this.video.getCurrentTime()}),this.component.dispatch("video-complete"),this.currentVideo.completed++}function b(){d.call(this),Utils.show(this.container),this.playButton.classList.add("pause"),this.playButton.tween.reverse(),this.config.controlsAutoHide&&this.config.controlsAutoHide[this.id]&&TweenMax.to(this.controls,2,{alpha:0,delay:2,ease:Cubic.easeOut}),this.currentVideo.duration=this.video.duration,1==this.autoplay&&(this.autoplay=!1),this.currentVideo.plays++}function y(){this.playButton.classList.remove("pause"),this.playButton.tween.play()}this.component=i,this.config=n,this.sources=[],this.wrapper=document.createElement("div"),this.closeButton=a.call(this),this.closeButtonSvg=this.closeButton.getElementsByTagName("svg")[0],this.container=document.createElement("div"),this.container.className="netflix-video-container",this.clickArea=document.createElement("div"),this.closeButton.classList.add("close"),this.clickArea.classList.add("videoClick"),this.wrapper.classList.add("netflix-video"),this.wrapper.appendChild(this.container),this.wrapper.appendChild(this.clickArea),this.wrapper.appendChild(this.closeButton),this.component.appendChild(this.wrapper);for(var _=0;_<this.config.sources.length;_++)this.sources.push(new e(_,this.config)),this.sources[_].muted=this.config.muted[_];this.stopTimer=function(){this.playing=!1,this.component.playing=!1,clearInterval(this.timer),f.call(this)},r.call(this),l.call(this),o.call(this)}return o.prototype.resize=function(t){t=t||{};var e=this.config.size[this.id]?this.id:0;this.previousSize={width:this.width,height:this.height},this.width=t.width||this.config.size[e].width,this.height=t.height||this.config.size[e].height,this.container.setAttribute("width",this.width),this.container.setAttribute("height",this.height),TweenMax.set(this.bar,{width:this.width-20}),TweenMax.set([this.container,this._video,this.wrapper,this.component],{width:this.width,height:this.height})},o.prototype.setSource=function(t){this.videoLoaded=this.currentVideo===this.sources[t],this.currentVideo=this.sources[t],this.currentVideo.firstQuart=!1,this.currentVideo.secondQuart=!1,this.currentVideo.thirdQuart=!1,this.video.id="video_"+t,this.active=!1,this.resize(this.config.size[t]),void 0!==this.config.showBar[t]?this.config.showBar[t]?Utils.show(this.bar):Utils.hide(this.bar):this.config.showBar[0]?Utils.show(this.bar):Utils.hide(this.bar),this.currentVideo.customControls||this.disableCustomControls(),this.currentVideo.controls&&this.enableControls(),this.currentVideo.controls||this.disableControls(),this.currentVideo.customControls&&this.enableCustomControls(),this.playHistory=this.playHistory||[],this.playHistory.push(this.currentVideo),Utils.suppressLog=!0,this.currentVideo.muted?this.mute():this.unmute(),this.timerView.innerHTML="",this.video.cueVideoById(this.currentVideo.source)},o.prototype.play=function(t){this.initPlay=!0,-1===t&&(this.autoplay=!0),this.sources.length&&(t=this.sources[t]?t:this.currentVideo?this.currentVideo._id:0,this.config.fullscreen[void 0===this.config.fullscreen[t]?0:t]&&-1!==t&&this.enterFullscreen(),this.load(t),this.videoPlays=this.videoPlays||{},this.videoPlays[t]=this.videoPlays[t]?this.videoPlays[t]+1:1,this.resume())},o.prototype.pause=function(t){this.initPlay=!0,this.video.pauseVideo(),null!==t&&void 0!==t&&this.seek(t),this.playing=!1,this.component.playing=!1},o.prototype.stop=function(){this.initPlay=!0,this._video.ended||(this.pause(0,!1),this.active=!1,Utils.tracker("VIDEO_STOP",this.currentVideo.source,{time:this.video.getCurrentTime()}),Utils.suppressLog=!0,this.stopTimer())},o.prototype.resume=function(){this.playing=!0,this.component.playing=!0,this.video.playVideo(),this.playButton.classList.add("pause"),this.playButton.tween.reverse()},o.prototype.seek=function(t){this.video.seekTo(t||0),this.barFill.current=this.barFill.style.width},o.prototype.unmute=function(){this.video.unMute(),this.currentVideo.muted=!1,Utils.show(this.muteButton),this.muteButton.classList.add("unmute"),this.muteButton.tween.reverse(),Utils.tracker("VIDEO_UNMUTE",this.currentVideo.source,{time:this.video.getCurrentTime()})},o.prototype.mute=function(){this.video.mute(),this.currentVideo.muted=!0,this.muteButton.classList.remove("unmute"),this.muteButton.tween.play(),Utils.tracker("VIDEO_MUTE",this.currentVideo.source,{time:this.video.getCurrentTime()})},o.prototype.load=function(t){this.sources.length&&(this.show(),this.setSource(t),this._video&&this._video.load())},o.prototype.hide=function(){this.pause(null,!1),Utils.hide(this.component),Utils.hide(this.container),Utils.hide(this.wrapper),this.stopTimer(),this.active=!1},o.prototype.show=function(){Utils.show(this.component),Utils.show(this.wrapper),Utils.show(this.container)},o.prototype.close=function(t){this.hide(),this.currentVideo&&this.currentVideo.source&&t&&Utils.tracker("VIDEO_STOP",this.currentVideo.source,{time:this.video.getCurrentTime()}),this.component.dispatch("video-close")},o.prototype.enableCustomControls=function(){Utils.show(this.controls),Utils.show(this.clickArea),this._video.removeAttribute("controls")},o.prototype.disableCustomControls=function(){Utils.hide(this.controls),Utils.hide(this.clickArea),this._video.setAttribute("controls","controls")},o.prototype.enableControls=function(){Utils.hide(this.clickArea),this._video.setAttribute("controls","controls")},o.prototype.disableControls=function(){Utils.show(this.clickArea),this._video.removeAttribute("controls")},o}();!function(){var e=Object.create(HTMLElement.prototype,{createdCallback:{value:function(){},enumerable:!0},attachedCallback:{value:function(){function t(t){var e=n.getAttribute("data-dynamic-key");return!(t.rootAssets["bool.Toggle_"+e]&&!t.rootAssets["bool.Toggle_"+e].value)||(n.dispatchEvent(new CustomEvent("ready")),n.toggle=!1)}function e(t,e){for(var i=t.rootAssets,n=["video","url"],o=0;o<2;o++){var r=n[o]+"."+e;if(i[r])return[i[r].url]}throw new Error("Monet dynamic ID: "+e+" not found in backup JSON")}if(!this._attached){this._attached=!0;var n=this;this.toggle=!0,this.width=parseInt(this.getAttribute("width")||this.offsetWidth),this.height=parseInt(this.getAttribute("height")||this.offsetHeight);for(var o=document.querySelectorAll("netflix-video"),r=0;r<o.length;r++)o[r].setAttribute("video_id",r+1),o[r].style.position="absolute";var s=this.config={};if(s.size=[{width:this.width,height:this.height}],s.sources=[this.getAttribute("source")],s.closeButtonSize=20,s.colors=[this.getAttribute("color-1"),this.getAttribute("color-2")],s.showBar=[!0],s.controlsAutoHide=[this.hasAttribute("controlsAutoHide")],s.closeColors=[this.getAttribute("close-color-1")||this.getAttribute("color-1"),this.getAttribute("close-color-2")||this.getAttribute("color-2")],s.hideOnComplete=[this.hasAttribute("hideOnComplete")],s.customControls=[this.hasAttribute("controls")],s.controls=[!1],s.fullscreen=[this.hasAttribute("fullscreen")],s.muted=[this.hasAttribute("muted")],s.autoplay=this.hasAttribute("autoplay"),s.contolsOffsetY=this.getAttribute("controls-offset-y")||0,s.autoplay&&(s.muted[0]=!0),Utils.isMobile&&(s.controls=[!0],s.customControls=[!1]),this.getAttribute("data-dynamic-key")){var a=document.querySelector("monet-integrator");a?(a.register(this),a.getMonetData().then(function(o){var r=n.getAttribute("data-dynamic-key");try{t(o)&&(s.sources=e(o,r),this.video=new i(this,s),this.dispatchEvent(new CustomEvent("ready")))}catch(n){a.getBackupMonetData().then(function(n){t(n)&&(s.sources=e(n,r),this.video=new i(this,s),this.dispatchEvent(new CustomEvent("ready")))}.bind(this),function(t){})}}.bind(this),function(t){})):(this.video=new i(this,s),this.dispatchEvent(new CustomEvent("ready")))}else window.addEventListener("adinitialized",function(){this.video=new i(this,s)}.bind(this),!1)}},enumerable:!0},play:{value:function(){this.toggle||this.dispatch("video-complete"),this.video&&this.video.play()}},pause:{value:function(){this.video&&this.toggle&&this.video.pause()}},close:{value:function(t){this.video&&this.toggle&&this.video.close(t)}},mute:{value:function(){this.video&&this.toggle&&this.video.mute()}},unmute:{value:function(){this.video&&this.toggle&&this.video.unmute()}},seek:{value:function(t){this.video&&this.toggle&&this.video.seek(t)}},resize:{value:function(t,e){this.video&&this.toggle&&this.video.resize({width:t,height:e})}},dispatch:{value:function(t,e){var i=document.createEvent("CustomEvent");i.initCustomEvent(t,!0,!0,e),this.dispatchEvent(i)}},preview:{value:function(){this.setAttribute("width",300),this.setAttribute("height",300),this.setAttribute("color-1","#E50914"),this.setAttribute("color-2","#F5F5F1"),this.setAttribute("close-color-1","#E50914"),this.setAttribute("close-color-2","#F5F5F1"),this.setAttribute("data-dynamic-key","Trailer"),this.setAttribute("controls","true"),this.setAttribute("autoplay","true"),this.setAttribute("source","//ae.nflximg.net/monet/video/fpo/1x1.mp4")}}});document.registerElement(t,{prototype:e})}()}(),module.exports={id:"5aacacc2-df1a-4028-9335-6b767bf96670",name:"wc-netflix-video",description:"A simple video player component for ads",type:"web_components",context:"Default",state:"published",updated:1525900592338,full_name:"NetflixAdsEng/wc-netflix-video",html_url:"https://github.com/NetflixAdsEng/wc-netflix-video",username:"GitHub",version:"3.0.1"},window.Control=new function(){this.prepare=function(t){var e=this;init(t).then(function(){return Common.init()}).then(function(){return loadDynamic()}).then(function(){e.prepareBuild()}).catch(function(t){throw t})},this.prepareBuild=function(){Control.preMarkup(),View.main=new Main,View.intro=new Intro,View.endFrame=new EndFrame,View.trailerFrame=new TrailerFrame,View.ribbon=new NetflixRibbon,View.mainBorder=new MainBorder},this.preMarkup=function(){View.monetIntegrator=document.createElement("monet-integrator"),View.monetIntegrator.addEventListener("ready",function(t){MonetUtils.setData(this).then(function(t){adData.hideStack=MonetUtils.getDataByKey("hideStack"),Control.postMarkupStyling(),Control.postMarkup(),Animation.startAd()}).catch(function(t){global.failAd()})}),get$1("main").appendChild(View.monetIntegrator),View.netflixFonts=document.createElement("netflix-fonts"),get$1("main").appendChild(View.netflixFonts)},this.postMarkup=function(){Gesture$1.add(View.endFrame,CLICK,Control.handleClick),Gesture$1.add(View.trailerFrame,CLICK,Control.handleTrailerFrameClick),View.endFrame.hide(),Gesture$1.add(View.endFrame,OVER,function(){View.endFrame.cta.mouseover()}),Gesture$1.add(View.endFrame,OUT,function(){View.endFrame.cta.mouseout()}),Gesture$1.add(View.trailerFrame,OVER,function(){View.trailerFrame.cta.mouseover()}),Gesture$1.add(View.trailerFrame,OUT,function(){View.trailerFrame.cta.mouseout()}),View.trailerFrame.hide(),View.trailerFrame.mainVideoPlayer.addEventListener("video-close",Animation.hideTrailerFrame),View.trailerFrame.mainVideoPlayer.addEventListener("video-complete",Animation.hideTrailerFrame),View.ribbon.addEventListener("coverComplete",function(t){Animation.playIntro()})},this.animationComplete=function(){},this.handleClick=function(t){Network.exit(overridePlatformExit,MonetUtils.getDataByKey("Exit_URL"))},this.postMarkupStyling=function(){setCss(View.endFrame.pedigree,{color:"#ffffff",fontFamily:"Netflix Sans"}),set$2(View.endFrame.pedigree,{x:CENTER,y:{type:CENTER,offset:12}}),View.intro.netflixLogo.progress(1),setCss(View.intro.netflixLogo,{opacity:0}),set$2(View.intro.netflixLogo,{x:{type:LEFT,offset:12},y:{type:BOTTOM,offset:-11}}),set$2(View.endFrame.cta,{x:{type:RIGHT,offset:-12},y:{type:BOTTOM,offset:-12}}),set$2(View.trailerFrame.cta,{x:{type:RIGHT,offset:-12},y:{type:BOTTOM,offset:-12}}),set$2(View.endFrame.netflixLogo,{x:{type:LEFT,offset:12},y:{type:BOTTOM,offset:-11}}),set$2(View.trailerFrame.netflixLogo,{x:{type:LEFT,offset:12},y:{type:BOTTOM,offset:-11}})},this.handleIntroVideoComplete=function(t){Animation.showEndFrame()},this.handleIntroClick=function(t){View.intro.hide(),Animation.showEndFrame(),Control.handleClick()},this.handleTrailerFrameClick=function(t){Animation.hideTrailerFrame(),Control.handleClick(t)}},window.Animation=new function(){this.startAd=function(){global.removePreloader(),setCss(View.main,{opacity:1}),View.ribbon.play()},this.playIntro=function(){"desktop"==Device.type?(setCss(View.intro.netflixLogo,{opacity:1}),View.intro.introVideoPlayer.play(),TweenLite.delayedCall(2.5,function(){View.intro.netflixLogo.reverse()}),TweenLite.delayedCall(6,function(){View.intro.netflixLogo.play()}),TweenLite.to(View.intro.netflixLogo,.25,{delay:8,alpha:0})):Animation.showEndFrame()},this.showEndFrame=function(){View.intro.hide(),View.endFrame.show()},this.hideTrailerFrame=function(){var t=FullScreen.isFullScreen(),e=t&&"VIDEO"===t.tagName,i=get$1("<video>",View.trailerFrame.mainVideoPlayer)[0];e||i.webkitDisplayingFullscreen||(TweenLite.to(View.trailerFrame,1,{y:-adParams.adHeight,ease:Expo.easeInOut}),TweenLite.to(View.endFrame,1,{y:0,ease:Expo.easeInOut}),View.trailerFrame.mainVideoPlayer.pause(),Animation.showEndFrame())},this.showTrailerFrame=function(){TweenLite.to(View.trailerFrame,1,{y:0,ease:Expo.easeOut}),TweenLite.to(View.endFrame,1,{y:175,ease:Expo.easeOut}),View.trailerFrame.mainVideoPlayer.play()}}}).call(exports,__webpack_require__(5).setImmediate,__webpack_require__(0))},function(t,e,i){(function(t){function n(t,e){this._id=t,this._clearFn=e}var o=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;e.setTimeout=function(){return new n(r.call(setTimeout,o,arguments),clearTimeout)},e.setInterval=function(){return new n(r.call(setInterval,o,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(o,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i(6),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,i(0))},function(t,e,i){(function(t,e){!function(t,i){"use strict";function n(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var n={callback:t,args:e};return c[l]=n,a(l),l++}function o(t){delete c[t]}function r(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n)}}function s(t){if(u)setTimeout(s,0,t);else{var e=c[t];if(e){u=!0;try{r(e)}finally{o(t),u=!1}}}}if(!t.setImmediate){var a,l=1,c={},u=!1,d=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?function(){a=function(t){e.nextTick(function(){s(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?function(){var e="setImmediate$"+Math.random()+"$",i=function(i){i.source===t&&"string"==typeof i.data&&0===i.data.indexOf(e)&&s(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent("onmessage",i),a=function(i){t.postMessage(e+i,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){s(t.data)},a=function(e){t.port2.postMessage(e)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var t=d.documentElement;a=function(e){var i=d.createElement("script");i.onreadystatechange=function(){s(e),i.onreadystatechange=null,t.removeChild(i),i=null},t.appendChild(i)}}():function(){a=function(t){setTimeout(s,0,t)}}(),h.setImmediate=n,h.clearImmediate=o}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,i(0),i(7))},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function r(t){if(d===clearTimeout)return clearTimeout(t);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function s(){m&&f&&(m=!1,f.length?p=f.concat(p):g=-1,p.length&&a())}function a(){if(!m){var t=o(s);m=!0;for(var e=p.length;e;){for(f=p,p=[];++g<e;)f&&f[g].run();g=-1,e=p.length}f=null,m=!1,r(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var u,d,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:i}catch(t){u=i}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(t){d=n}}();var f,p=[],m=!1,g=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new l(t,e)),1!==p.length||m||o(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}}]);